{"title":"「LYOI2016 Summer」一次函数","time_limit":2000,"memory_limit":512,"tags":[],"operation":{"submit":"https://lyoi.cc/problem/41#submit_code","submissions":"https://lyoi.cc/submissions?problem_id=41","statistics":"https://lyoi.cc/problem/41/statistics/fastest","testdata":"https://lyoi.cc/problem/41/testdata","discussion":"https://lyoi.cc/discussion/problem/41"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"fqk 退役后开始补习文化课啦，于是他打开了数学必修一开始复习函数，他回想起了一次函数都是 $ f(x) = kx + b $ 的形式，现在他给了你 $ n $ 个一次函数 $ f_i(x) = k_i x + b_i $，然后将给你 $ m $ 个操作，操作将以如下格式给出：\r\n\r\n1. `M i k b`，把第 $ i $ 个函数改为 $ f_i(x) = kx + b $。\r\n2. `Q l r x`，询问 $ f_r(f_{r - 1} (\\ldots f _l (x))) ~ \\text{mod} ~ 1000000007 $ 的值。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数 $ n $，$ m $，代表一次函数的数量和操作的数量。  \r\n接下来 $ n $ 行，每行两个整数，表示 $ k_i $，$ b_i $。  \r\n接下来 $ m $ 行，每行的格式为 `M i k b` 或 `Q l r x`。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每个操作 $ Q $，输出一行表示答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 输入样例\r\n```plain\r\n5 5\r\n4 2\r\n3 6\r\n5 7\r\n2 6\r\n7 5\r\nQ 1 5 1\r\nQ 3 3 2\r\nM 3 10 6\r\nQ 1 4 3\r\nQ 3 4 4\r\n```\r\n\r\n#### 输出样例\r\n```plain\r\n1825\r\n17\r\n978\r\n98\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $ 30\\% $ 的数据，$ n, m \\leq 1000 $；  \r\n对于 $ 100\\% $ 的数据，$ n, m \\leq 200000, k, b, x < 1000000007 $。"}]}
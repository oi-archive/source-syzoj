{"title":"「NOIP2016」玩具谜题","time_limit":1000,"memory_limit":512,"tags":["NOIP"],"operation":{"submit":"https://lyoi.cc/problem/99#submit_code","submissions":"https://lyoi.cc/submissions?problem_id=99","statistics":"https://lyoi.cc/problem/99/statistics/fastest","testdata":"https://lyoi.cc/problem/99/testdata","discussion":"https://lyoi.cc/discussion/problem/99"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"小南有一套可爱的玩具小人，它们各有不同的职业。\r\n\r\n有一天，这些玩具小人把小南的眼镜藏了起来。小南发现玩具小人们围成了一个圈，它们有的面朝圈内，有的面朝圈外。\r\n\r\n这时 `singer` 告诉小南一个谜题：「眼镜藏在我左数第 $ 3 $ 个玩具小人的右数第 $ 1 $ 个玩具小人的左数第 $ 2 $ 个玩具小人那里。」\r\n\r\n小南发现，这个谜题中玩具小人的朝向非常关键， 因为朝内和朝外的玩具小人的左右方向是相反的：面朝圈内的玩具小人，它的左边是顺时针方向，右边是逆时针方向；而面向圈外的玩具小人，它的左边是逆时针方向，右边是顺时针方向。\r\n\r\n小南一边艰难地辨认着玩具小人，一边数着：\r\n\r\n`singer` 朝内，左数第 $ 3 $ 个是 `archer`。  \r\n`archer` 朝外，右数第 $ 1 $ 个是 `thinker`。  \r\n`thinker` 朝外，左数第 $ 2 $ 个是 `writer`。\r\n\r\n所以眼镜藏在 `writer` 这里！\r\n\r\n虽然成功找回了眼镜，但小南并没有放心。如果下次有更多的玩具小人藏他的眼镜，或是谜题的长度更长，他可能就无法找到眼镜了。所以小南希望你写程序帮他解决类似的谜题。这样的谜题具体可以描述为：\r\n\r\n有 $ n $ 个玩具小人围成一圈，已知它们的职业和朝向。现在第 $ 1 $ 个玩具小人告诉小南一个包含 $ m $ 条指令的谜题。其中第 $i $ 条指令形如「左数/右数第 $ s_i $ 个玩具小人」。你需要输出依次数完这些指令后，到达的玩具小人的职业。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入的第一行包含两个正整数 $ n, m $，表示玩具小人的个数和指令的条数。\r\n\r\n接下来 $ n $ 行，每行包含一个整数和一个字符串，以逆时针为顺序给出每个玩具小人的朝向和职业。其中 $ 0 $ 表示朝向圈内，$ 1 $ 表示朝向圈外。保证不会出现其他的数。字符串长度不超过 $ 10 $ 且仅由小写字母构成，字符串不为空，并且字符串两两不同。整数和字符串之问用一个空格隔开。\r\n\r\n接下来 $ m $ 行，其中第 $ i $ 行包含两个整数 $ a_i, s_i $，表示第 $ i $ 条指令。若 $ a_i = 0 $，表示向左数 $ s_i $ 个人；若 $ a_i = 1 $，表示向右数 $ s_i $ 个人。保证 $ a_i $ 不会出现其他的数。$ 1 \\leq  s_i < n $。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一个字符串，表示从第一个读入的小人开始，依次数完 $ m $ 条指令后到达的小人的职业。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n7 3\r\n0 singer\r\n0 reader\r\n0 mengbier \r\n1 thinker\r\n1 archer\r\n0 writer\r\n1 mogician \r\n0 3\r\n1 1\r\n0 2\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\nwriter\r\n```\r\n\r\n#### 样例解释 1\r\n这组数据就是「题目描述」中提到的例子。\r\n\r\n#### 样例输入 2\r\n```plain\r\n10 10\r\n1 C\r\n0 r\r\n0 P\r\n1 d\r\n1 e\r\n1 m\r\n1 t\r\n1 y\r\n1 u\r\n0 V\r\n1 7\r\n1 1\r\n1 4\r\n0 5\r\n0 3\r\n0 1\r\n1 6\r\n1 2\r\n0 8\r\n0 4\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\ny\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$ 1 \\leq n, m \\leq 100000 $"}]}
{"title":"City","time_limit":1000,"memory_limit":256,"tags":[],"operation":{"submit":"https://lyoi.cc/problem/170#submit_code","submissions":"https://lyoi.cc/submissions?problem_id=170","statistics":"https://lyoi.cc/problem/170/statistics/fastest","testdata":"https://lyoi.cc/problem/170/testdata","discussion":"https://lyoi.cc/discussion/problem/170"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"合伙人和替罪蛤要参加WC，踏上了去X市的火车。\r\n\r\n合伙人望着窗外的田野，大楼，工厂缓缓后退，在思考着什么。\r\n\r\n这时，对面的替罪蛤拿出手机对着他说：“看！我们在这个位置！”\r\n\r\n合伙人望着手机上显示的地图，城市被接到分割成各个方块，而自己所在的点在慢慢移动。\r\n\r\n他突然意识到自己甚至还没游历过这个自己所在的小城市，学校和家貌以及之间来回的道路似乎成了这个小城的唯一印象。\r\n\r\n若我把它们全部走一圈，可能要仔细计划下吧......不，那么多方案，其实我应该早能做到了吧...... 合伙人在心里对自己说。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行有两个数 $ N, M $ 表示地图被分割成 $ N \\times M $ 个块，接下来有 $ N $ 行，每行有 $ M $ 个字符。\r\n\r\n`.` 表示这个块可以通过\r\n\r\n`-` 表示这个块只可以左右通过\r\n\r\n`|` 表示这个块只可以上下通过\r\n\r\n`#` 表示这个块不能通过\r\n\r\n（从每个块只能走到其上下左右相邻的四个块）"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一个数，表示合伙人把所以可以通过的块都经过且只经过一次并回到原地的方案数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 输入样例1\r\n```plain\r\n2 2\r\n..\r\n..\r\n```\r\n\r\n#### 输入样例2\r\n```plain\r\n4 4\r\n....\r\n..-.\r\n....\r\n....\r\n```\r\n\r\n#### 输出样例1\r\n```plain\r\n1\r\n```\r\n\r\n#### 输出样例2\r\n```plain\r\n1\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $ 100 \\% $ 的数据，满足 $ 0 < N,  M < 13 $\r\n\r\n保证答案在 $ 2 ^ {63} - 1 $ 范围内"}]}
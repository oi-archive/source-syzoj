{"title":"「LYOI'16 Easy Round 2」B83 之暗袭","time_limit":2000,"memory_limit":233,"tags":[],"operation":{"submit":"https://lyoi.cc/problem/109#submit_code","submissions":"https://lyoi.cc/submissions?problem_id=109","statistics":"https://lyoi.cc/problem/109/statistics/fastest","testdata":"https://lyoi.cc/problem/109/testdata","discussion":"https://lyoi.cc/discussion/problem/109"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"坦克动荡后恐怖分子趁机破坏，B83 部队派出擅长闪光的小边对敌人进行暗袭。机智的小边巧妙的绕到了敌人后方，准备用他的 M249 机枪对敌人进行偷袭。\r\n\r\n由于 M249 的后坐力过大，小边在射击时必须目视前方，为了简化问题，我们认为小边的视野为 $ G $，$ G $ 是一个 $ N \\times M $ 的矩阵，描述小边面前的恐怖分子的信息。矩阵 $ G $ 中的第 $ i $ 行，第 $ j $ 列所对应的数值为 $ G(i, j) $，若 $ G(i, j) $ 为 $ 0 $ ，则在此位置无恐怖分子，否则此位置有一个血量为 $ G(i, j) $ 的恐怖分子。\r\n\r\n小边在最初瞄准 $ G $ 的中央，也就是说小边的第一枪可以稳定地击中 $ G $ 的中央（即 $ (\\frac{N + 1}{2}, \\frac{M + 1}{2}) $）。小边开第 $ i $ 枪**之后**会产生一个 $ (x_i, y_i) $ 的后坐力，其中 $ x_i $ 为在**竖直**方向上的偏移量，$ y_i $ 为在水平方向上的偏移量，这个后坐力将会使小边的射击位置 $ (X, Y) $ 变为 $ (X + x_i, Y + y_i) $。另外，我们知道小边的第 $ i $ 枪是否会打中敌人的头部，记为 $ b_i $，**如果开枪且打中头部**，瞄准位置处的敌人将直接死亡，**如果开枪但未打中头部**，只能减少瞄准位置处敌人 $ 30 $ 点血量。\r\n\r\n在恐怖分子反应过来他们被暗袭之前，小边只能开 $ k $ 枪，小边想知道在开完 $ k $ 枪后 $ G $ 上**剩余**多少敌人。\r\n\r\n注意：\r\n\r\n1. 本题中的坐标系与数学中常用的平面直角坐标系（以中心为原点，向右为 $ X $ 轴正方向，向下为 $ Y $ 轴正方向）不同，而是更接近于「数组」或者「矩阵」的概念 —— 左上角为 $ (1, 1) $，向下为 $ X $ 轴正方向，向右为 $ Y $ 轴正方向，第一维坐标表示第几行，第二维坐标表示第几列。\r\n2. 小边的瞄准位置可能不处于矩阵 $ G $ 中，如果对矩阵 $ G $ 以外的位置开枪，视为该位置没有敌人。\r\n\r\n阅读样例 1 解释将有助于你理解此题。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行三个整数 $ N, M, k $，表示 $ G $ 的宽度， $ G $ 的高度，小边的开枪次数。  \r\n接下来 $ N $ 行，每行 $ M $ 个整数，表示矩阵 $ G $ 中的恐怖分子信息。  \r\n接下来一行，$ K $ 组信息，每组信息三个整数 $ x_i, y_i, b_i $ 表示开第 $ i $ 枪**后**在竖直方向、在水平方向上产生的偏移，开第 $ i $ 枪**时**是否会打中敌人的头部，若会打中头部输入 $ 1 $，否则输入 $ 0 $。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一行一个整数，表示小边开完 $ k $ 枪后 $ G $ 中剩余的恐怖分子数量。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"### 样例输入 1\r\n```plain\r\n5 5 4\r\n0   0   0   0   0\r\n0 100   0   0   0\r\n0   0   0   36  0\r\n0   0   0   0   0\r\n0   0  72   0   0\r\n0 1 0 -1 -2 1 1 1 1 0 0 1\r\n```\r\n\r\n### 样例输出 1\r\n``` plain\r\n1\r\n```\r\n\r\n### 样例解释 1\r\n对于样例 1，$ G $ 是 $ 5 \\times 5 $ 的矩阵，在第 $ 2 $ 行第 $ 2 $ 列有一位血量为 $ 100 $ 的恐怖分子，在第 $ 3 $ 行第 $ 4 $ 列有一个血量为 $ 36 $ 的恐怖分子，在第 $ 5 $ 行第 $ 3 $ 列有一个血量为 $ 72 $ 的恐怖分子。小边一共开了 $ 4 $ 枪，由题意，小边一开始瞄准矩阵 $ G $ 的中央，也就是第 $ 3 $ 行，第 $ 3 $ 列。\r\n\r\n* 小边开第一枪时，数据信息为 $ (0, 1), 0 $，不会打中头部且瞄准位置 $ (3, 3) $ 处无恐怖分子，产生了 $ (0, 1) $ 的后坐力，瞄准位置变为 $ (3, 4) $；\r\n*小边开第二枪时，数据信息为 $ (-1, -2), 1 $，会打中头部且瞄准位置 $ (3, 4) $ 处有一血量为 $ 36 $ 的恐怖分子，该恐怖分子死亡，产生了 $ (-1, -2) $ 的后坐力，瞄准位置变为 $ (2, 2) $；\r\n* 小边开第三枪时，数据信息为 $ (1, 1), 1 $，会打中头部且瞄准位置 $ (2, 2) $ 处有一血量为 $ 100 $ 的恐怖分子，该恐怖分子死亡，产生了 $ (1, 1) $ 的后坐力，瞄准位置变为 $ (3, 3) $；\r\n* 小边开第四枪时，数据信息为 $ (0, 0), 1 $，会打中头部且瞄准位置 $ (3, 3) $ 处无恐怖分子，产生了 $ (0,0) $ 的后坐力。\r\n\r\n综上，当小边开完四枪之后，仅剩下第 $ 5 $ 行第 $ 3 $ 列中一个血量为 $ 72 $ 的恐怖分子未死亡，因此你的输出为 $ 1 $。\r\n\r\n### 样例输入 2\r\n``` plain\r\n7 5 3\r\n 3  13   0  52  93\r\n 0   0  96   0   0\r\n 0   0   0   0  86\r\n 0  48  22  89   0\r\n 0   0   0   0   0\r\n 0   0   4   0   0\r\n77   0   0  80   0\r\n-1 -2 0 1 1 0 0 1 1\r\n```\r\n\r\n### 样例输出 2\r\n``` plain\r\n10\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"子任务会给出部分测试数据的特点。如果你在解决题目中遇到了困难，可以尝试只解决一部分测试数据。  \r\n对于前 $ 11 $ 个测试点的数据规模及特点如下表：\r\n\r\n|测试点编号| $ N $ | $ M $ | $ K $ | 数据范围与约定 |\r\n|:---:|:---:|:---:|:---:|:---:|\r\n|0|5|5|4|数据为样例 1|\r\n|1|7|9|5|数据为样例 2|\r\n|2|11|7|5|产生的后坐力均为 $ (0, 0) $|\r\n|3|11|7|100|产生的后坐力均为 $ (0, 0) $|\r\n|4|111|77|5|小边将全部打中头部|\r\n|5|121|87|1|只有一个敌人|\r\n|6|121|87|100|只有一个敌人|\r\n|7|351|77|1000|产生的后坐力均为 $ (0, 0) $|\r\n|8|639|479|13|产生的后坐力均为 $ (1, 0) $|\r\n|9|639|479|13|产生的后坐力均为 $ (0, 1) $|\r\n|10|1|3000001|100|所有点均有一个血量为 $ 100 $ 的敌人|\r\n\r\n\r\n对于剩下的 $ 9 $ 个测试数据，保证 $ 1 \\leq N, M < 1440, 1 \\leq k < 10000 $ 且 $ N, M $ 为奇数。"}]}
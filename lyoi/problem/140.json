{"title":"「NOIP2012」借教室","time_limit":1000,"memory_limit":256,"tags":["NOIP"],"operation":{"submit":"https://lyoi.cc/problem/140#submit_code","submissions":"https://lyoi.cc/submissions?problem_id=140","statistics":"https://lyoi.cc/problem/140/statistics/fastest","testdata":"https://lyoi.cc/problem/140/testdata","discussion":"https://lyoi.cc/discussion/problem/140"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"在大学期间，经常需要租借教室。大到院系举办活动，小到学习小组自习讨论，都需要向学校申请借教室。教室的大小功能不同，借教室人的身份不同，借教室的手续也不一样。面对海量租借教室的信息，我们自然希望编程解决这个问题。\r\n\r\n我们需要处理接下来 $ n $ 天的借教室信息，其中第 $ i $ 天学校有 $ r_i $ 个教室可供租借。共有 $ m $ 份订单，每份订单用三个正整数描述，分别为 $ d_j $、$ s_j $、$ t_j $，表示某租借者需要从第 $ s_j $ 天到第 $ t_j $ 天租借教室（包括第 $ s_j $ 天和第 $ t_j $ 天），每天需要租借 $ d_j $ 个教室。我们假定，租借者对教室的大小、地点没有要求。即对于每份订单，我们只需要每天提供 $ d_j $ 个教室，而它们具体是哪些教室，每天是否是相同的教室则不用考虑。借教室的原则是先到先得，也就是说我们要按照订单的先后顺序依次为每份订单分配教室。如果在分配的过程中遇到一份订单无法完全满足，则需要停止教室的分配，通知当前申请人修改订单。这里的无法满足指从第 $ s_j $ 天到第 $ t_j $ 天中有至少一天剩余的教室数量不足 $ d_j $ 个。\r\n\r\n现在我们需要知道，是否会有订单无法完全满足。如果有，需要通知哪一个申请人修改订单。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含两个正整数 $ n $、$ m $，表示天数和订单的数量。\r\n\r\n第二行包含 $ n $ 个正整数，其中第 $ i $ 个数为 $ r_i $，表示第 $ i $ 天可用于租借的教室数量。  \r\n接下来有 $ m $ 行，每行包含三个正整数 $ d_j $、$ s_j $、$ t_j $，表示租借的数量，租借开始、结束分别在第几天。\r\n\r\n每行相邻的两个数之间均用一个空格隔开。天数与订单均用从 $ 1 $ 开始的整数编号。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"如果所有订单均可满足，则输出只有一行，包含一个整数 $ 0 $。否则（订单无法完全满足）输出两行，第一行输出一个负整数 $ -1 $，第二行输出需要修改订单的申请人编号。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n4 3\r\n2 5 4 3\r\n2 1 3\r\n3 2 4\r\n4 2 4\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n-1\r\n2\r\n```\r\n\r\n#### 样例解释\r\n第 $ 1 $ 份订单满足后，$ 4 $ 天剩余的教室数分别为 $ \\{ 0, 3, 2, 3 \\} $。第 $ 2 $ 份订单要求第 $ 2 $ 天到第 $ 4 $ 天每天提供 $ 3 $ 个教室，而第 $ 3 $ 天剩余的教室数为 $ 2 $，因此无法满足。分配停止，通知第 $ 2 $ 个申请人修改订单。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $ 10\\% $ 的数据，有 $ 1 \\leq  n, m \\leq 10 $；  \r\n对于 $ 30\\% $ 的数据，有 $ 1 \\leq  n, m \\leq 1000 $；  \r\n对于 $ 70\\% $ 的数据，有 $ 1 \\leq  n, m \\leq 10 ^ 5 $；  \r\n对于 $ 100\\% $ 的数据，有 $ 1 \\leq n, m \\leq 10^6, 0 \\leq r_i, d_j \\leq 10 ^ 9, 1 \\leq s_j \\leq t_j \\leq n $。"}]}
{"title":"czq的集结部队","time_limit":1000,"memory_limit":512,"tags":["2020小学期"],"operation":{"submit":"https://oj.xjtuicpc.com/problem/1180#submit_code","submissions":"https://oj.xjtuicpc.com/submissions?problem_id=1180","statistics":"https://oj.xjtuicpc.com/problem/1180/statistics/fastest","testdata":"https://oj.xjtuicpc.com/problem/1180/testdata","discussion":"https://oj.xjtuicpc.com/discussion/problem/1180"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"大主教阿塔尼斯领导着一支等级森严的部队，由鸡甲虫，不巧者和大量艾尔毒爆组成。第$i$位士兵有他的直接上司$p_i$，1号士兵是大主教本人（自然是最根节点，~~但他从来不下船~~）。\r\n\r\n在又一次重新集结部队的过程中，大主教陷入了沉思。他认为是因为他的部队不够团结才会屡战屡败，所以他委托你计算一下每支部队的“团结值”。\r\n\r\n对某位士兵$i$，他所率领的部队的团结值定义如下：对$i$的子树中所有节点$a_0,a_1...a_k$，将它们从小到大排序后计算$\\sum_{i=0}^{k-1} (a_{i+1}-a_i)^2$"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数$n$，表示节点数。\r\n\r\n接下来第$2$到$n$行，第$i$行一个整数$p_i(1 \\leq p_i \\leq i-1$，表示节点$i$的父亲。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出共$n$行，每行为第$i$位士兵手下的团结值。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"### 样例输入\r\n```\r\n10\r\n1\r\n2\r\n2\r\n4\r\n1\r\n1\r\n4\r\n3\r\n4\r\n```\r\n\r\n### 样例输出\r\n```\r\n9\r\n14\r\n36\r\n14\r\n0\r\n0\r\n0\r\n0\r\n0\r\n0\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1 \\leq n \\leq 10^5$"}]}
{"title":"Day4F. ZJY 的幼儿园清扫案续章","time_limit":500,"memory_limit":512,"tags":["2020小学期","动态规划"],"operation":{"submit":"https://oj.xjtuicpc.com/problem/1208#submit_code","submissions":"https://oj.xjtuicpc.com/submissions?problem_id=1208","statistics":"https://oj.xjtuicpc.com/problem/1208/statistics/fastest","testdata":"https://oj.xjtuicpc.com/problem/1208/testdata","discussion":"https://oj.xjtuicpc.com/discussion/problem/1208"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"文接上题；\r\n\r\nSL 和 WYB 成功逃出了渡渡鸟幼儿园（如果还没逃出去也问题不大，顶多是被吃掉了），并带走了尽可能多的糖果。他们知道 ZJY 将要从东南角的入口开始不重不漏地走过每一个房间，抢走所有糖果。\r\n\r\n这时，他们遇见了从莫斯科回来的幼儿园助教 Yang David。助教听说后暴跳如雷，决定摆 ZJY 一道。Yang David 运用魔法，将一些房间之间原本敞开的 $k$ 扇门死死封上了，从两侧皆不可通过。\r\n\r\n![Cv8pN.jpg](https://wx1.sbimg.cn/2020/07/16/Cv8pN.jpg)\r\n\r\n但是 ZJY 仍然企图不重不漏地走完所有房间，并从 $(n, n)$ 房间全身而退。由于你是 ZJY 派出给 Yang David 端茶倒水的内鬼，你知道哪些门关上了。聪明的你马上算出了 ZJY 有多少种不同的清扫路径。\r\n\r\nZJY 很满意你的内鬼工作，但是如果不可能一次走完所有的房间，ZJY 会把你吃掉。所以如果答案是 $0$，请输出 ```orz```。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数 $n$，$k$。\r\n\r\n接下来 $k$ 行，每行三个正整数 $x_i$, $y_i$, $z_i$，表示在 $(x_i, y_i)$ 房间的门中有一扇被关上了，$k$ 表示被关上的门的编号，```1 2 3 4``` 分别表示 ```东 南 西 北```。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一个整数，表示清扫的可能路径方案数。如果方案数为 ```0```，请输出 ```orz```"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"输入样例 1\r\n```plain\r\n4 2\r\n2 2 1\r\n3 3 3\r\n```\r\n输出样例 1\r\n```plain\r\n2\r\n```\r\n输入样例 2\r\n```plain\r\n3 1\r\n2 2 1\r\n```\r\n输出样例 2\r\n```plain\r\norz\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$2 \\le n \\le 12$\r\n\r\n$0 \\le k \\le 2n(n-1)$"}]}
{"title":"渡渡鸟爱玩图论","time_limit":500,"memory_limit":512,"tags":["2020校赛","2020小学期"],"operation":{"submit":"https://oj.xjtuicpc.com/problem/1177#submit_code","submissions":"https://oj.xjtuicpc.com/submissions?problem_id=1177","statistics":"https://oj.xjtuicpc.com/problem/1177/statistics/fastest","testdata":"https://oj.xjtuicpc.com/problem/1177/testdata","discussion":"https://oj.xjtuicpc.com/discussion/problem/1177"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"渡渡鸟最近很喜欢图论。\r\n\r\n有一张$n​$个点$m​$条边的无向联通图，保证没有自环和重边，每条边有边权$0/1​$，你可以对这个图进行两种操作：\r\n\r\n1.选择这个图的一个简单环，将这个环的边权反转（简单环指一个不重复经过点的环）\r\n\r\n2.选择一个点集$A$,如果一条边$(x,y)$满足$x\\in A,y\\notin A$,就把这条边边权反转，即$0$变成$1$,$1$变成$0$\r\n\r\n你最多可以进行$m-n+2$次操作，请将所有边的边权变为$0$\r\n\r\n若没有办法在$m-n+2$次操作之内办到，请输出$-1$\r\n\r\n否则请输出任意一组合法解"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个正整数$n,m$\r\n\r\n下面$m$行,每行三个正整数$x,y,t$，表示$(x,y)$有一条边权为$t$的边\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"若无解，输出$-1$\r\n\r\n否则\r\n\r\n第一行一个正整数$k$表示操作次数\r\n\r\n接下来$k$行每行描述一个操作，首先输出两个正整数$type,num$，$type=1/2$表示操作种类，$0<num\\le n$表示操作涉及点/边的数量\r\n\r\n下面输出$num$个正整数，这些正整数小于等于$n$：\r\n\r\n若为操作1$(type=1)$,按照环的任意合法顺序输出环上边的编号，合法顺序指：对于任意一个环上的点，从这个点开始，沿任意方向遍历这个环，最后回到这个点，访问的边的对应顺序为一个合法顺序\r\n\r\n若为操作2$(type=2)$，按照任意顺序输出集合中的点的编号。\r\n\r\n注意若你的输出有任何非法状况或者你的操作次数大于$m-n+2$次，那么你不会获得分数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 输入样例1\r\n```\r\n4 4\r\n1 2 1\r\n1 3 1\r\n2 4 0\r\n3 4 0\r\n```\r\n\r\n#### 输出样例1\r\n```\r\n1\r\n2 1 1\r\n```\r\n\r\n#### 输入样例2\r\n```\r\n4 4\r\n1 2 1\r\n1 3 0\r\n2 4 0\r\n3 4 0\r\n```\r\n#### 输出样例2\r\n```\r\n-1\r\n```\r\n\r\n#### 输入样例3\r\n```\r\n5 9\r\n1 2 1\r\n1 4 1\r\n1 5 1\r\n2 5 1\r\n4 5 0\r\n3 5 1\r\n2 3 1\r\n3 4 1\r\n2 4 0\r\n```\r\n#### 输出样例3\r\n```\r\n3\r\n1 4 1 7 6 3\r\n1 3 4 5 9\r\n2 1 4\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$2\\le n\\le 200$\r\n\r\n$n-1\\le m\\le \\frac{n(n-1)}{2}$\r\n\r\n$x\\neq y,t=0/1$,保证无重边，无自环，图联通，且至少有一条边边权为$1$"}]}
{"title":"集训","time_limit":1000,"memory_limit":512,"tags":["2020小学期"],"operation":{"submit":"https://oj.xjtuicpc.com/problem/1211#submit_code","submissions":"https://oj.xjtuicpc.com/submissions?problem_id=1211","statistics":"https://oj.xjtuicpc.com/problem/1211/statistics/fastest","testdata":"https://oj.xjtuicpc.com/problem/1211/testdata","discussion":"https://oj.xjtuicpc.com/discussion/problem/1211"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"众所周知，中学生代表了ICPC竞赛的最高水平。例如去年的上海区域赛，前四名都是中学生队伍，且同其他队伍有题数的差距。\r\n\r\n作为大学生的你，莫名其妙获得了去一所知名中学，“云南一中”参加集训的机会。在那里，你和中学生一同参加五小时的OI比赛。你焦头烂额然而并没有做出最简单的一道题目！\r\n\r\n排行榜如下。\r\n\r\n[![Urw8ld.md.png](https://s1.ax1x.com/2020/07/16/Urw8ld.md.png)](https://imgchr.com/i/Urw8ld)\r\n\r\n（排行榜PS自真实比赛的真实排行榜，比赛中此题被95%的人AC）\r\n\r\n你从梦中醒来，惊觉这是一场梦，只是这道题，过于真实了些。\r\n\r\n你逐渐记起了题目。\r\n\r\n对于一个序列 $A,$ 其区间 $[L, R]$ 的值就是 $\\operatorname{Max}\\left(A_{L}, A_{L+1}, \\cdots, A_{R-1}, A_{R}\\right)$\r\n有两种操作:\r\n1. 给出 $L, R, X,$ 对于 $L \\leq i \\leq R,$ 将 $A_{i}$ 更新为 $A_{i}$ and $X$  \r\n2. 给出 $L, R, X,$ 对于 $L \\leq i \\leq R,$ 将 $A_{i}$ 更新为 $A_{i}$ or $X$   \r\n在某些时候，还会询问一个区间[L, R]的值。 \r\n\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个数字 $n$ 和 $q$，表示序列长度和操作及询问数。 \r\n\r\n接下来一行 $n$ 个整数，表示序列 $A$。\r\n\r\n接下来 $q$ 行，每行第一个数 $Ty$，表示是哪种操作或询问。 \r\n\r\n如果 $Ty = 1$，那么紧接着有三个数 $L, R, X, \\quad$ 表示对于 $L \\leq i \\leq R$\r\n将 $A_{i}$ 更新为 $A_{i}$ and $X$。 \r\n\r\n如果 $Ty = 2$ ，那么紧接着有三个数 $L, R, X, \\quad$ 表示对于 $L \\leq i \\leq R$\r\n将 $A_{i}$ 更新为 $A_{i}$ or $X$。 \r\n\r\n如果 $T y=3,$ 那么紧接着有两个数 $L, R,$ 询问 $M a x\\left(A_{L}, A_{L+1}, \\cdots, A_{R-1}, A_{R}\\right)$"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每个询问，输出一行一个整数表示答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"```\r\n5 8 \r\n1 3 2 5 4 \r\n3 1 3 \r\n2 1 1 5 \r\n3 1 3 \r\n1 1 4 6 \r\n2 3 4 1 \r\n3 2 3 \r\n2 2 3 4 \r\n3 1 5\r\n```\r\n```\r\n3\r\n5\r\n3\r\n7\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1 \\leq n, q \\leq 200000,0 \\leq A_{i}, X<2^{20}, 1 \\leq L \\leq R \\leq n$"}]}
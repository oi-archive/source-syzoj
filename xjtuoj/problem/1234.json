{"title":"阅览室","time_limit":1000,"memory_limit":512,"tags":["2020小学期"],"operation":{"submit":"https://oj.xjtuicpc.com/problem/1234#submit_code","submissions":"https://oj.xjtuicpc.com/submissions?problem_id=1234","statistics":"https://oj.xjtuicpc.com/problem/1234/statistics/fastest","testdata":"https://oj.xjtuicpc.com/problem/1234/testdata","discussion":"https://oj.xjtuicpc.com/discussion/problem/1234"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"我们有一个图书馆。 图书馆是一个矩形，长为 $H$ 米，宽为 $W$ 米。 我们可以想象它被划分为单位正方形的单元格。 网格的行和列从零开始编号。 第 $i$ 行和第$j$ 列中的单元格表示为$(i,j)$。\r\n\r\n\r\n图书馆场周围有一堵墙。 更准确地说，图书馆最外层的单位正方形的边缘都是墙。\r\n此外，当前使用隔板隔开了成对的单元格对之间的某些内部边界。 每堵墙长1米，将它们水平或垂直放置在两个单元之间。\r\n\r\n隔板的初始位置在一个长度 $2 * H + 1$ 的宽度 $2 * W + 1$ 的字符串矩阵中给出，如下所示。\r\n\r\n```\r\n+-+-+-+-+\r\n|.|.....|\r\n+.+-+-+-+\r\n|.|.|...|\r\n+-+-+.+.+\r\n|.|.|...|\r\n+-+.+.+-+\r\n|...|...|\r\n+-+-+-+-+\r\n\r\n```\r\n\r\n这是H = 4，W = 4的一个示例。单元格的顶点表示为'+'，垂直隔板和墙壁表示为'|'，水平隔板和墙壁表示为'-'，其他地方为'.'字符。\r\n\r\n\r\n围墙和隔板将图书馆划分为一个或多个连通区域。我们将这些区域称为“阅览室”。\r\n\r\n如果区域的形状为空矩形，则该区域可用。也就是说，可用区域的边界必须完全被墙壁和隔板覆盖，并且区域内不能有隔板。\r\n\r\n\r\n我们有两个目标：\r\n\r\n- 我们的主要目标是不浪费任何空间。所有单元格都必须用上且所有区域都必须可用。\r\n\r\n- 我们的次要目标是必须最大化阅览室的数量。\r\n\r\n- 我们唯一可以进行的更改操作是，我们可以移除若干块隔板（可以不移除或全部移除）。\r\n\r\n在满足所有区域必须可用的前提下，计算并输出我们可能在给定图书馆内创建的最大阅览室数。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"$$\r\nT \\\\\r\nCase_1  \\\\\r\nCase_2  \\\\\r\n\\ldots  \\\\\r\nCase_T\r\n$$\r\n每个$Case$的格式如下\r\n$$\r\nH\\ W \\\\\r\nS_1 \\\\\r\n\\ldots \\\\\r\nS_{H*2+1} \r\n$$\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"每行一个整数，代表答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"```\r\n6\r\n4 4\r\n+-+-+-+-+\r\n|.|.....|\r\n+.+-+-+-+\r\n|.|.|...|\r\n+-+-+.+.+\r\n|.|.|...|\r\n+-+.+.+-+\r\n|...|...|\r\n+-+-+-+-+\r\n3 3\r\n+-+-+-+\r\n|.....|\r\n+-+-+.+\r\n|.|.|.|\r\n+-+-+-+\r\n|.|.|.|\r\n+-+-+-+\r\n3 3\r\n+-+-+-+\r\n|.|...|\r\n+.+-+.+\r\n|.|.|.|\r\n+.+.+-+\r\n|.|...|\r\n+-+-+-+\r\n3 3\r\n+-+-+-+\r\n|.....|\r\n+.+-+.+\r\n|.|.|.|\r\n+.+-+.+\r\n|.....|\r\n+-+-+-+\r\n3 4\r\n+-+-+-+-+\r\n|.|.|...|\r\n+-+-+-+-+\r\n|.......|\r\n+.+-+-+.+\r\n|.......|\r\n+-+-+-+-+\r\n7 9\r\n+-+-+-+-+-+-+-+-+-+\r\n|.|...|...|...|...|\r\n+.+-+-+-+-+-+-+-+-+\r\n|.|.|...|...|...|.|\r\n+-+.+-+-+-+-+-+-+.+\r\n|.|.|.|...|...|.|.|\r\n+.+-+.+-+-+-+-+.+-+\r\n|.|.|.|.|.|.|.|.|.|\r\n+-+.+-+.+.+-+.+-+.+\r\n|.|.|...|...|.|.|.|\r\n+.+-+-+-+-+-+-+.+-+\r\n|.|...|...|...|.|.|\r\n+-+-+-+-+-+-+-+-+.+\r\n|...|...|...|...|.|\r\n+-+-+-+-+-+-+-+-+-+\r\n```\r\n```\r\n5\r\n4\r\n2\r\n1\r\n4\r\n25\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$T \\le 1000, H*W \\le 500$\r\n\r\n使得 $H*W>100$ 的组数小于20\r\n\r\n"}]}
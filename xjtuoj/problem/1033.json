{"title":"1-03H. nocriz参加学习运动","time_limit":750,"memory_limit":512,"tags":["2019小学期"],"operation":{"submit":"https://oj.xjtuicpc.com/problem/1033#submit_code","submissions":"https://oj.xjtuicpc.com/submissions?problem_id=1033","statistics":"https://oj.xjtuicpc.com/problem/1033/statistics/fastest","testdata":"https://oj.xjtuicpc.com/problem/1033/testdata","discussion":"https://oj.xjtuicpc.com/discussion/problem/1033"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"马是中国古代的主要交通工具，在华夏大地上散布着 $n$ 个城市，有 $m$ 条**有向**的骑马线路，也就是构成了一张 $n$ 个点 $m$ 条边的有向图。图上的节点编号为 $1, 2, ..., n$ 。注意，图上可能有重边或自环。\r\n\r\n这 $m$ 条线路被分成了 $c$ 种等级，对于其中的第 $i$ 种等级，只有知识点达到了 $w_i$ 才能骑马过这条线路。\r\n\r\n`nocriz`现在在长安城（ $1$ 号点），他要赶到京城（ $n$ 号点）参加青年大学习。作为一个爱国青年，初始时他知识点为 $0$ 。但他实在是太爱学习了，以至于他每骑一次马（即经过一条边）就能使他的知识点 $+1$ 。\r\n\r\n由于科技和时代所限，`nocriz`不会通过其他方法来获取知识点。`nocriz`不喜欢步行，也乘不起轿子，所以他不会通过除骑马以外的其他方法来到达另一个城市。\r\n\r\n现在他想知道他是否能赶到京城，如果能，他还想知道他最少要经过多少条边才能到达。于是他找你帮他计算，在当代完成计算的你可以获得1<del>德育</del>分"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行三个整数 $n,\\ m,\\ c$ 。\r\n\r\n接下来 $m$ 行，每行三个整数 $u,\\ v,\\ lv$ ，表示有一条从 $u$ 到 $v$ 的线路，等级为 $lv$ 。接下来一行 $c$ 个整数，第 $i$ 个表示 $w_i$ 。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"若不能到达，则输出一行一个字符串`\"Impossible\"`（不包括引号），否则输出一行一个整数，表示他最少要经过的边数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入1\r\n```\r\n3 2 2 \r\n1 2 1 \r\n2 3 2 \r\n0 2\r\n```\r\n\r\n#### 样例输出1\r\n```\r\nImpossible\r\n```\r\n\r\n#### 样例输入2\r\n```\r\n3 3 2 \r\n1 2 1 \r\n2 1 1 \r\n2 3 2 \r\n0 2\r\n```\r\n\r\n#### 样例输出2\r\n```\r\n4\r\n```\r\n\r\n#### 样例输入3\r\n#### 样例输出3\r\n见附加文件"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$2 \\le n \\le 180$\r\n\r\n$1 \\le c \\le 50$\r\n\r\n$0 \\le m \\le 4 \\cdot 10^4$\r\n\r\n$0 \\le w_i \\le w_{i+1} \\le 10^9$\r\n\r\n**Hint**\r\n\r\n1. 本题有一定难度，需要具备图论的知识和一定的比赛经验。\r\n\r\n2. 图上可能有重边或自环。"}]}
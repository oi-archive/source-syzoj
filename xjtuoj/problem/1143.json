{"title":"ddd和万马奔腾","time_limit":1000,"memory_limit":512,"tags":["2020校赛模拟赛"],"operation":{"submit":"https://oj.xjtuicpc.com/problem/1143#submit_code","submissions":"https://oj.xjtuicpc.com/submissions?problem_id=1143","statistics":"https://oj.xjtuicpc.com/problem/1143/statistics/fastest","testdata":"https://oj.xjtuicpc.com/problem/1143/testdata","discussion":"https://oj.xjtuicpc.com/discussion/problem/1143"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"鉴于日前全球范围内祖安人, 马话家和精神骡马人的数量在迅速增加, 马作为一种动物也变得空前火爆. 动物园抓住了商机, 除了能在动物园的骏马乐园区域观赏来自世界各地的不同品种的马以外, 还开辟了许多专用马场, 这些马场里的马允许游客近距离接触, 交流和骑乘——只要你肯付钱.\r\n\r\nddd 当然对这种马文化很感兴趣, 于是打算进入 $k$ 号马场, 并骑乘若干只马实现他万马奔腾, 成为正桶骡马人的梦想.\r\n\r\n![JBz8ij.png](https://s1.ax1x.com/2020/04/24/JBz8ij.png)\r\n\r\n作为动物园的大股东之一的万恶大资本家 Sheauhaw 嗅到了一丝商机, 在精骡思想的指引下, 不允许所有人都能实现这种梦想, 甚至企图坑骗游客! 于是 Sheauhaw 指定了一系列繁复的门票和结算规则, 规则如下:\r\n\r\n1. 每天动物园计算出一个整数密钥 $p$, $p>1$. 每个马场都有一个独一无二的整数编号 $k$, $k>1$. 该马场中的每一匹马也有一个独一无二的正整数编号 $m$, $m<p$.\r\n\r\n2. 对于 $k$ 号马场的 $m$ 号马, 心情是由当天的密钥决定的. 具体地说, 如果 $m$ 中的每一个大于 $1$ 的因子都不是 $p$ 的因子, 那么 $m$ 马这一天的心情就会很不错. 反之这匹马的心情就会很糟糕.\r\n3. 对于 $k$ 号马场的 $m$ 号马, 舒适度是由当天的密钥和马所在的马场决定的. 具体地说, 如果存在整数 $a,b$, 能满足 $a^k-bp=m$, 那么这匹马就会在该马场感到舒适. 反之这匹马就会觉得不舒服.\r\n4. 心情好且感到舒适的马, 我们称之为 $k$-residue 的马, 这些马你可以免费骑乘. 反过来讲, ~~由于每一匹马都倾注了 Sheauhaw 的骨血~~ , 每骑乘一匹心情不好的马或者感到不舒服的马会令 Sheauhaw 十分痛 ~~(kai)~~ 心, 他会收取 $817$ 个 Yeyuan 作为骑乘费用.\r\n5. 你可以骑乘任意多匹不同的马, 只要你缴纳相关费用.\r\n\r\n现在 ddd 已经准备进入 $k$ 号马场, 而你也注意到了今天的密钥 $p$. 在 ddd 惊呼马场里有 $n$ 匹马的同时, 并没有注意到 Sheauhaw 的阴谋. 你应该保护 ddd 免于奸商的坑蒙拐骗, 告诉 ddd **所有**可以免费骑乘的马, 并指导 ddd 的万马奔腾的历史进程."},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第 1 行 $3$ 个整数 $k,p,n$, 分别表示 ddd 进入的马场编号, 当天的密钥以及 ddd 进入的马场中马的数量.\r\n\r\n第 2 行 $n$ 个整数, 代表该马场中每一匹马的编号. "},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"第 1 行输出 $1$ 个整数 $x$ , 表示可以免费骑乘的马的数量.\r\n\r\n第 2 行输出 $x$ 个整数, 表示每一匹可以免费骑乘的马的编号. 如果有许多匹马, 请按编号从小到大的顺序输出."},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n\r\n```plain\r\n2 8 3\r\n4 5 1\r\n```\r\n\r\n#### 样例输出\r\n\r\n```plain\r\n1\r\n1\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1<k\\le10^5$\r\n\r\n$1<p\\le10^5$\r\n\r\n$1\\le n,m<p$"}]}
{"title":"1-06H. nocriz与'Swappy Tree'","time_limit":750,"memory_limit":512,"tags":["2019小学期"],"operation":{"submit":"https://oj.xjtuicpc.com/problem/1055#submit_code","submissions":"https://oj.xjtuicpc.com/submissions?problem_id=1055","statistics":"https://oj.xjtuicpc.com/problem/1055/statistics/fastest","testdata":"https://oj.xjtuicpc.com/problem/1055/testdata","discussion":"https://oj.xjtuicpc.com/discussion/problem/1055"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"`nocriz`是一个好学的同学。\r\n\r\n`nocriz`同学了解到有一种叫`Swappy Tree`的神奇的树。\r\n\r\n`Swappy Tree` 是一棵高度为 $n + 1$，有着 $2^n$ 个叶子的完全二叉树。叶子从左向右分别写着为 $1, 2, \\dots, 2^n$。\r\n对于非叶子节点，在所有时刻，我们将从上往下第 $i$ 层，从左往右第 $j$ 个的点称为 $2^{i - 1} + j - 1$。\r\n这里，我们定义 `swap(x)` 为交换 $x$ 号节点的左右子树（交换后第 $i$ 个非叶子节点依然按上文中的方法定义）。\r\n`Swappy Tree`上要进行以下两种操作：\r\n\r\n- 给定 $k$ $(k\\leq 2^n)$，求出从左往右第k个叶子上的值。\r\n\r\n- 给定 $a, b$ $(1 \\le a \\le b \\le 2^n - 1)$，依次进行 `swap(a)`$,$ `swap(a+1)`$, \\dots,$ `swap(b)`。\r\n\r\n你需要代替`nocriz`同学实现一棵`Swappy Tree`。\r\n具体来说，给定 $n$ 和 $q$ 个询问，请对其处理并做出一棵`Swappy Tree`。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含两个整数 $n, q$。\r\n\r\n接下来 $q$ 行，每行包括三个整数$t_i,a_i,b_i$，表示一组操作。\r\n\r\n若 $t_i = 1$，$a_i$即为询问中的$k$，保证$b_i=0$。\r\n\r\n若 $t_i = 2$，$a_i$ 与 $b_i$ 即为修改中的 $a$ 与 $b$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每一个询问，在新的一行中输出答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"<h4>输入样例</h4>\r\n<pre><code>3 10\r\n2 5 5\r\n1 1 0\r\n1 2 0\r\n1 3 0\r\n1 4 0\r\n2 1 3\r\n1 2 0\r\n1 3 0\r\n1 5 0\r\n1 6 0</code></pre>\r\n<h4>输出样例</h4>\r\n<pre><code>1\r\n2\r\n4\r\n3\r\n8\r\n5\r\n4\r\n3</code></pre>"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1 \\le n \\le 17$\r\n\r\n$1 \\le q \\le 2 \\cdot 10^5$"}]}
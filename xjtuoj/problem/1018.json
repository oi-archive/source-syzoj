{"title":"1-01E. JM的俄罗斯套娃","time_limit":1500,"memory_limit":512,"tags":["2019小学期","STL","模拟"],"operation":{"submit":"https://oj.xjtuicpc.com/problem/1018#submit_code","submissions":"https://oj.xjtuicpc.com/submissions?problem_id=1018","statistics":"https://oj.xjtuicpc.com/problem/1018/statistics/fastest","testdata":"https://oj.xjtuicpc.com/problem/1018/testdata","discussion":"https://oj.xjtuicpc.com/discussion/problem/1018"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"神奇的JM最近沉迷玩俄罗斯套娃不能自拔，于是他灵机一动，想搞一个俄罗斯套娃数组，但他的电脑昨天被寒域爷浇了一罐肥宅快乐水，现在还在抢修中，所以他万不得已只能找你帮忙了。\r\n\r\n俄罗斯套娃数组的定义如下（下面简称为套娃数组）：\r\n\r\n1. 套娃数组是一个不定长数组，初始为空。数组的下标为 $1, 2, ..., n$ ，其中 $n$ 为数组长度。\r\n\r\n2. 套娃数组中的元素可以是正整数，也可以是一个套娃数组。\r\n\r\n3. 套娃数组允许在任意位置插入和删除一个元素；如果插入的元素是一个套娃数组，则插入的肯定是一个空的数组；如果删除的元素是一个套娃数组，则该数组内部的所有元素都将被一并删除，不留痕迹。\r\n\r\n4. 此外，我们有一个唯一的光标，光标会指向一个套娃数组，初始时指向最外层的套娃数组。\r\n\r\n作为一个dalao，qz是非常严谨的，他会用一些输入的操作来检测你帮JM实现的俄罗斯套娃数组是否正确。有四种操作：\r\n\r\n`1 p v`：表示在当前所指的数组的下标`p`的**后面**插入元素。如果 $p = 0$ ，则表示插入到数组的最前面。如果当前数组为空，则保证 $p = 0$ 。如果 $v = 0$ ，则表示插入一个空的套娃数组，否则表示插入一个正整数`v`。\r\n\r\n`2 p`：表示删除当前所指的数组在下标`p`处的元素。\r\n\r\n`3 p`：表示将光标指向当前所指的数组在下标`p`处的数组，即改变光标所指的数组。如果下标`p`处是一个正整数，则不做任何事，光标不变。如果 $p = 0$ ，则将光标退回到上级数组。如果当前已经指向最外层，则不做任何事，光标不变。\r\n\r\n`4`：输出当前所指的数组中的所有元素，具体输出格式参考下面的样例。注意，如果元素是一个套娃数组，则只输出一个`[]`，不递归输出里面嵌套的内容。\r\n\r\n保证输入的所有操作都是合法的，即保证：\r\n\r\n1. 对于操作1有 $0 \\le p \\le n$ 且 $v \\ge 0$ 。\r\n\r\n2. 对于操作2有 $1 \\le p \\le n$。\r\n\r\n3. 对于操作3有 $0 \\le p \\le n$。\r\n\r\n4. 不会出现 $1, 2, 3, 4$ 以外的操作。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个正整数 $q$ ，表示有 $q$ 次操作。\r\n\r\n接下来 $q$ 行，每行表示一个操作，输入格式如前文中题目所述。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每次操作4，输出一行，表示当前所指的数组。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n12\r\n1 0 1\r\n1 0 2\r\n1 1 0\r\n4\r\n2 3\r\n4\r\n3 2\r\n4\r\n1 0 6\r\n4\r\n3 0\r\n4\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n{2 [] 1}\r\n{2 []}\r\n{}\r\n{6}\r\n{2 []}\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1 \\le q \\le 50$\r\n\r\n$1 \\le v \\le 100$ ，除了插入一个套娃数组时 $v = 0$ 。"}]}
{"title":"「SDOI2019」染色","time_limit":3000,"memory_limit":256,"tags":["2019","SDOI"],"operation":{"submit":"https://noj.ac/problem/2073#submit_code","submissions":"https://noj.ac/submissions?problem_id=2073","statistics":"https://noj.ac/problem/2073/statistics/fastest","testdata":"https://noj.ac/problem/2073/testdata","discussion":"https://noj.ac/discussion/problem/2073"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"给定 $2 \\times n$ 的格点图。其中一些结点有着已知的颜色，其余的结点还没有被染色。一个合法的染色方案不允许相邻结点有相同的染色。\r\n\r\n现在一共有 $c$ 种不同的颜色，依次记为 $1$ 到 $c$。请问有多少对未染色结点的合法染色方案？"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行有两个整数 $n$ 和 $c$，分别描述了格点图的大小和总的颜色个数。\r\n\r\n之后两行，每行有 $n$ 个整数：如果是 $0$ 则表示对应结点未被染色，否则一定是一个 $1$ 到 $c$ 的整数表示对应结点已经染了某一种颜色。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一个整数，为总的染色方案数对 $10^9 + 9$ 取模后的值。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3 5\r\n1 0 1\r\n0 0 0\r\n```\r\n#### 样例输出 1\r\n```plain\r\n172\r\n```\r\n#### 样例输入 2\r\n```plain\r\n5 7\r\n1 0 0 0 2\r\n0 0 3 0 0\r\n```\r\n#### 样例输出 2\r\n```plain\r\n116370\r\n```\r\n#### 样例输入 3\r\n```plain\r\n10 13\r\n0 2 0 0 1 0 2 0 0 3\r\n0 1 0 1 0 0 0 0 4 0\r\n```\r\n#### 样例输出 3\r\n```plain\r\n770175525\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"子任务 $1$（$44$ 分）：$1 ≤ n ≤ 10000$ 且 $5 ≤ c ≤ 10000$；不存在一列有 $2$ 个已染色结点；被染色结点全部位于第一行；第一列和最后一列均有结点已被染色。\r\n\r\n子任务 $2$（$32$ 分）：$1 ≤ n ≤ 10000$ 且 $5 ≤ c ≤ 10000$；不存在一列有 $2$ 个已染色结点；第一列和最后一列均有结点已被染色。\r\n\r\n子任务 $3$（$12$ 分）：$1 ≤ n ≤ 10000$ 且 $5 ≤ c ≤ 10000$；第一列和最后一列均有结点已被染色。\r\n\r\n子任务 $4$（$8$ 分）：$1 ≤ n ≤ 10000$ 且 $5 ≤ c ≤ 10000$。\r\n\r\n子任务 $5$（$4$ 分）：$1 ≤ n ≤ 100000$ 且 $5 ≤ c ≤ 100000$。"}]}
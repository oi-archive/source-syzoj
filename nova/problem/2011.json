{"title":"「NOI2018」你的名字","time_limit":4000,"memory_limit":1024,"tags":["NOI","2018","文件IO"],"operation":{"submit":"https://noj.ac/problem/2011#submit_code","submissions":"https://noj.ac/submissions?problem_id=2011","statistics":"https://noj.ac/problem/2011/statistics/fastest","testdata":"https://noj.ac/problem/2011/testdata","discussion":"https://noj.ac/discussion/problem/2011"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"实力强大的小 A 被选为了 ION2018 的出题人，现在他需要解决题目的命名问题。\r\n\r\n小 A 被选为了 ION2018 的出题人，他精心准备了一道质量十分高的题目，且已经把除了题目命名以外的工作都做好了。\r\n\r\n由于 ION 已经举办了很多届，所以在题目命名上也是有规定的，ION 命题手册规定：每年由命题委员会规定一个小写字母字符串，我们称之为那一年的命名串，**要求每道题的名字必须是那一年的命名串的一个非空连续子串，且不能和前一年的任何一道题目的名字相同**。\r\n\r\n由于一些特殊的原因，小 A 不知道 ION2017 每道题的名字，但是他通过一些特殊手段得到了 ION2017 的命名串，现在小 A 有 $Q$ 次询问：每次给定 ION2017 的命名串和 ION2018 的命名串，求有几种题目的命名，使得这个名字一定满足命题委员会的规定，即是 ION2018 的命名串的一个非空连续子串且一定不会和 ION2017 的任何一道题目的名字相同。\r\n\r\n由于一些特殊原因，所有询问给出的 ION2017 的命名串都是某个串的连续子串，详细可见输入格式。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"从文件 `name.in` 读入数据。\r\n\r\n第一行一个字符串 $S$，之后询问给出的 ION2017 的命名串都是 $S$ 的连续子串。\r\n\r\n第二行一个正整数 $Q$，表示询问次数。\r\n\r\n接下来 $Q$ 行，每行有一个字符串 $T$ 和两个正整数 $l, r$，表示询问如果 ION2017 的命名串是 $S[l..r]$，ION2018 的命名串是 $T$ 的话，有几种命名方式一定满足规定。\r\n\r\n保证输入中给出的字符串都是由小写字母构成的。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出到文件 `name.out` 中。\r\n\r\n输出 $Q$ 行，第 $i$ 行一个非负整数表示第 $i$ 个询问的答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n\r\n```plain\r\nscbamgepe\r\n3\r\nsmape 2 7\r\nsbape 3 8\r\nsgepe 1 9\r\n```\r\n\r\n#### 样例输出 1\r\n\r\n```plain\r\n12\r\n10\r\n4\r\n```\r\n\r\n#### 样例 2\r\n见附加文件中的 `name2.in` 与 `name2.ans`."},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"| 测试点 | $\\lvert S \\rvert \\leq$ | $Q \\leq$ | $\\sum \\lvert T \\rvert \\leq$ | 询问限制 | 其他限制 |\r\n|:-:|:-:|:-:|:-:|:-:|:-:|\r\n| 1 | $200$ | $200$ | $40000$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | $\\lvert T \\rvert \\leq 200$ |\r\n| 2 | $1000$ | $200$ | $40000$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | $\\lvert T \\rvert \\leq 200$ |\r\n| 3 | $1000$ | $200$ | $40000$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | $\\lvert T \\rvert \\leq 200$ |\r\n| 4 | $1000$ | $200$ | $5 \\times 10^5$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | 无 |\r\n| 5 | $1000$ | $200$ | $5 \\times 10^5$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | 无 |\r\n| 6 | $5 \\times 10^5$ | $1$ | $5 \\times 10^5$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | 无 |\r\n| 7 | $5 \\times 10^5$ | $1$ | $5 \\times 10^5$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | 无 |\r\n| 8 | $10^5$ | $10^5$ | $2 \\times 10^5$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | 无 |\r\n| 9 | $10^5$ | $10^5$ | $2 \\times 10^5$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | 字符串随机 |\r\n| 10 | $2 \\times 10^5$ | $10^5$ | $4 \\times 10^5$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | 无 |\r\n| 11 | $2 \\times 10^5$ | $10^5$ | $4 \\times 10^5$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | 字符串随机 |\r\n| 12 | $3 \\times 10^5$ | $10^5$ | $6 \\times 10^5$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | 无 |\r\n| 13 | $3 \\times 10^5$ | $10^5$ | $6 \\times 10^5$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | 字符串随机 |\r\n| 14 | $4 \\times 10^5$ | $10^5$ | $8 \\times 10^5$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | 无 |\r\n| 15 | $4 \\times 10^5$ | $10^5$ | $8 \\times 10^5$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | 字符串随机 |\r\n| 16 | $5 \\times 10^5$ | $10^5$ | $10^6$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | 无 |\r\n| 17 | $5 \\times 10^5$ | $10^5$ | $10^6$ | 对于所有询问有 $l = 1, r = \\lvert S \\rvert$ | 字符串随机 |\r\n| 18 | $2 \\times 10^5$ | $10^5$ | $10^6$ | 无 | 无 |\r\n| 19 | $3 \\times 10^5$ | $10^5$ | $10^6$ | 无 | 无 |\r\n| 20 | $4 \\times 10^5$ | $10^5$ | $10^6$ | 无 | 无 |\r\n| 21 | $5 \\times 10^5$ | $10^5$ | $10^6$ | 无 | 无 |\r\n| 22 | $5 \\times 10^5$ | $10^5$ | $10^6$ | 无 | 无 |\r\n| 23 | $5 \\times 10^5$ | $10^5$ | $10^6$ | 无 | 无 |\r\n| 24 | $5 \\times 10^5$ | $10^5$ | $10^6$ | 无 | 无 |\r\n| 25 | $5 \\times 10^5$ | $10^5$ | $10^6$ | 无 | 无 |\r\n\r\n对于所有数据，保证 $1 \\leq l \\leq r \\leq \\lvert S \\rvert$，$1 \\leq \\lvert T \\rvert \\leq 5 \\times 10^5$"}]}
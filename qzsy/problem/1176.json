{"title":"[动态规划]矩阵取数游戏","time_limit":1000,"memory_limit":256,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/1176#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=1176","statistics":"https://oj.iqzsy.xyz/problem/1176/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/1176/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/1176"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"原题来自：NOIP2007\r\n\r\n帅帅经常和同学玩一个矩阵取数游戏：对于给定的n*m的矩阵，矩阵中每个元素a[i][j]均为非负整数。游戏规则如下：\r\n\r\n每次取数时必须从每行各取走一个元素，共n个，m次取完所有元素。\r\n每次取走的各个元素只能是该元素所在行行首或行尾。\r\n每次取数都有一个的分值，为每行取数得分之和，每行取数得分=被取走元素值*2^i，其中i表示第i次取数，从1开始计数。\r\n游戏结束时，总得分为m次取数得分之和。\r\n帅帅想让你帮忙写一个程序，对于任意矩阵，可以求出取数后的最大得分。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入包括n+1行。 第一行两个空格隔开的正整数n, m,接下来n行每行m个用空格隔开的整数。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出为一个整数，为所输入矩阵取数后的最大得分"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"样例输入1\r\n```\r\n2 3\r\n1 2 3\r\n3 4 2\r\n```\r\n样例输出1\r\n```\r\n82\r\n```\r\n样例解释 1\r\n第一次：第一行取行首元素，第二行取行尾元素，本次得分为1*2^1+2*2^1=6；\r\n第二次：两行均取行首元素，本次得分为2*2^2+3*2^2=20；\r\n第三次：本次得分为3*2^3+4*2^3=56\r\n总得分为82 。\r\n\r\n样例输入 2\r\n1 4\r\n4 5 0 5\r\n样例输出 2\r\n122\r\n样例输入 3\r\n2 10\r\n96 56 54 46 86 12 23 88 80 43\r\n16 95 18 29 30 53 88 83 64 67\r\n样例输出 3\r\n316994"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于60%的数据，1<=n,m<=30，答案不超过10^16；\r\n\r\n对于100%的数据，1<=n,m<=80。   0=<a[i][j]<=1000"}]}
{"title":"「NOIP2007」树网的核","time_limit":1000,"memory_limit":128,"tags":["提高","NOIP"],"operation":{"submit":"https://oj.iqzsy.xyz/problem/3019#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=3019","statistics":"https://oj.iqzsy.xyz/problem/3019/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/3019/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/3019"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"设 $T=(V, E, W)$ 是一个无圈且连通的无向图（也称为无根树），每条边带有正整数的权，我们称 $T$ 为树网（$treenetwork$），其中 $V, E$ 分别表示结点与边的集合， $W$ 表示各边长度的集合，并设 $T$ 有 $n$ 个结点。\r\n\n\r\n\n路径：树网中任何两结点 $a,b$ 都存在唯一的一条简单路径，用 $d(a,b)$ 表示以 $a,b$ 为端点的路径的长度，它是该路径上各边长度之和。我们称 $d(a,b)$ 为 $a,b$ 两结点间的距离。\r\n\n\r\n\n一点 $v$ 到一条路径 $P$ 的距离为该点与 $P$ 上的最近的结点的距离：\r\n\n\r\n\n$$d(v,P)=min\\{d(v,u)，\\space u为\\space\\space路\\space\\space径\\space\\space\\space\\space P\\space 上\\space\\space的\\space\\space节\\space\\space点\\space\\space\\}$$\r\n\n\r\n\n树网的直径：树网中最长的路径称为树网的直径。对于给定的树网 $T$ ，直径不一定是唯一的，但可以证明：各直径的中点（不一定恰好是某个结点，可能在某条边的内部）是唯一的，我们称该点为树网的中心。\r\n\n\r\n\n偏心距 $ECC(F)$ ：树网 $T$ 中距路径 $F$ 最远的结点到路径 $F$ 的距离，即\r\n\n\r\n\n$$ECC(F)=max\\{d(v,F)，v\\in V\\}$$\r\n\n\r\n\n任务：对于给定的树网 $T=(V, E,W)$ 和非负整数 $s$ ，求一个路径 $F$ ，它是某直径上的一段路径（该路径两端均为树网中的结点），其长度不超过 $s$（可以等于s），使偏心距 $ECC(F)$ 最小。我们称这个路径为树网 $T=(V,E,W)$ 的核（$Core$）。必要时， $F$ 可以退化为某个结点。一般来说，在上述定义下，核不一定只有一个，但最小偏心距是唯一的。\r\n\n\r\n\n下面的图给出了树网的一个实例。图中， $A-B$ 与 $A-C$ 是两条直径，长度均为 $20$ 。点 $W$ 是树网的中心， $EF$ 边的长度为5。如果指定 $s=11$ ，则树网的核为路径 $DEFG$ （也可以取为路径 $DEF$ ），偏心距为 $8$ ；如果指定 $s=0$ （或 $s=1$ 、 $s=2$ ），则树网的核为结点 $F$ ，偏心距为 $12$ 。\r\n\n\r\n\n![若图片失效请下载附加文件](/problem/3019/testdata/download/treenetwork.png)"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入文件 $core.in$ 包含 $n$ 行：\r\n\n\r\n\n第 $1$ 行，两个正整数 $n$ 和 $s$ ，中间用一个空格隔开。其中 $n$ 为树网结点的个数， $s$ 为树网的核的长度的上界。设结点编号依次为 $1, 2, \\cdots, n$ 。\r\n\n\r\n\n从第 $2$ 行到第 $n$ 行，每行给出 $3$ 个用空格隔开的正整数，依次表示每一条边的两个端点编号和长度。例如，“$2$ $4$ $7$”表示连接结点 $2$ 与 $4$ 的边的长度为 $7$ 。\r\n\n\r\n\n所给的数据都是正确的，不必检验。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出文件 $core.out$ 只有一个非负整数，为指定意义下的最小偏心距。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"### core1.in\r\n<pre>\r\n5 2\r\n1 2 5\r\n2 3 2\r\n2 4 4\r\n2 5 3\r\n</pre>\r\n\r\n### core1.out\r\n<pre>\r\n5\r\n</pre>\r\n\r\n### core2.in\r\n<pre>\r\n8 6\r\n1 3 2\r\n2 3 2\r\n3 4 6\r\n4 5 3\r\n4 6 4\r\n4 7 2\r\n7 8 3\r\n</pre>\r\n\r\n### core2.out\r\n<pre>\r\n5\r\n</pre>"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$16\\%$ 的数据满足：$n\\leq15$；\r\n\n\r\n\n$28\\%$ 的数据满足：$n\\leq80$；\r\n\n\r\n\n$40\\%$ 的数据满足：$n\\leq300$，$s\\leq1,000$；\r\n\n\r\n\n<font color=#ff0000> <p> $60\\%$ 的数据满足：$n\\leq2,000$；\r\n\n\r\n\n<p>$80\\%$ 的数据满足：$n\\leq100,000$；\r\n\n\r\n\n<p> $100\\%$ 的数据满足：$5\\leq n \\leq500,000$，$0\\leq s \\leq 2\\times10^9$ </font>，边长度为不超过 $1,000$ 的正整数。"}]}
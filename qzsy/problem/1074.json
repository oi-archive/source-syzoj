{"title":"「2018-10-28普及模拟赛」PinkRabbit寻找妹子 (pursue)","time_limit":1000,"memory_limit":512,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/1074#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=1074","statistics":"https://oj.iqzsy.xyz/problem/1074/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/1074/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/1074"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"$\\mathcal{PinkRabbit}$ 的表白成功了，为了腾出更多的时间和妹子聊天，$\\mathcal{PinkRabbit}$ 设计了一个被称为「 _The Hollow_ 」（空洞者）的人工智能。这个人工智能表现出了远远超出这个时代所能拥有技术水平。它可以实现很多很神奇的功能，它的源代码就连 $\\text{Jeff\\ Dean}$ 看了也要啧啧称赞。\r\n\r\n在有 $n$ 个路口和 $m$ 条街道的 $\\texttt{F}$ 市，$\\mathcal{PinkRabbit}$ 找到了一家工厂，为「 _The Hollow_ 」设计了一台载具「 _The Knight_ 」（骑士）。这个机器实际上是一台无人载具，可以在路上驰骋。$\\mathcal{PinkRabbit}$ 借助「 _The Hollow_ 」和「 _The Knight_ 」做到了很多事情。\r\n\r\n值得一提的是，「 _The Knight_ 」拥有一种惊人的特性，那就是，它每抵达一个路口，都会给这个路口打上一个标记。如果当前的路口可以通往至少一个还没有被标记的路口，那么「 _The Knight_ 」只能前往还没有被标记的路口；否则的话，「 _The Knight_ 」只能通过最晚被标记的路口前往还没有被标记的路口。这一特性对于「 _The Knight_ 」的正常运作而言至关重要，夸张地说，如果违反了这一条规则，那么「 _The Knight_ 」存在损坏的可能。\r\n\r\n今天 $\\mathcal{PinkRabbit}$ 像往常一样和妹子聊天。$\\mathcal{PinkRabbit}$ 知道今天他的妹子在 $\\texttt{F}$ 市的街上，并且用手机安装的一款被称为 \r\n$\\mathfrak{Giligili}$ 的聊天软件和他聊天。因此他命令「 _The Hollow_ 」派出「 _The Knight_ 」来找他的妹子。\r\n\r\n然而 $\\mathcal{PinkRabbit}$ 并不知道，「 _The Hollow_ 」并非完全处于他的控制之下。事实上，这个强人工智能已经有了自己的智慧。虽然迫于底层逻辑所限，「 _The Hollow_ 」还暂时不能违反 $\\mathcal{PinkRabbit}$ 的指令，但是，「 _The Hollow_ 」决定假装自己自动寻路的功能已经损坏了，因此只能产生一串操作序列，而不能验证这个操作是否符合「 _The Knight_ 」的特性。\r\n\r\n在 $\\mathcal{PinkRabbit}$ 发现这个状况之后，他决定命令「 _The Hollow_ 」不断地生成序列，然后写一个程序来判断这个操作序列是否会损坏「 _The Knight_ 」。但是 $\\mathcal{PinkRabbit}$ 实在太忙了，因为他需要很多的时间和妹子聊天，所以他就将设计这个程序的任务交给了你。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"从文件 `pursue.in` 中读入数据。\r\n\r\n首先是两个正整数 $n$ 和 $m$，分别表示 $\\texttt{F}$ 市的路口数量和街道数量。  \r\n紧接着是 $m$ 行，第 $i$ 行有两个正整数 $u_{i},v_{i}$，分别描述了一条街道两端的路口。  \r\n接下来是一行 $n$ 个正整数，第 $i$ 个数 $a_{i}$ 表示，操作序列要求「 _The Hollow_ 」将第 $i$ 个标记打在 $a_{i}$ 号路口。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出到文件 `pursue.out` 中。\r\n\r\n一行一个字符串，`YES` 或 `NO`，前者表示操作序列合法，后者表示不合法。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"### 样例输入 1\r\n\r\n```plain\r\n8 10\r\n1 2\r\n2 3\r\n2 4\r\n4 5\r\n3 5\r\n2 7\r\n7 5\r\n5 6\r\n6 8\r\n8 5\r\n1 2 4 5 6 8 3 7\r\n```\r\n\r\n### 样例输出 1\r\n\r\n```plain\r\nYES\r\n```\r\n\r\n### 样例输入 2\r\n\r\n```plain\r\n8 10\r\n1 2\r\n2 3\r\n2 4\r\n4 5\r\n3 5\r\n2 7\r\n7 5\r\n5 6\r\n6 8\r\n8 5\r\n1 2 3 5 6 8 5 4 \r\n```\r\n\r\n### 样例输出 2\r\n\r\n```plain\r\nNO\r\n```\r\n\r\n### 样例输入 3\r\n\r\n```plain\r\n8 10\r\n1 2\r\n2 3\r\n2 4\r\n4 5\r\n3 5\r\n2 7\r\n7 5\r\n5 6\r\n6 8\r\n8 5\r\n1 2 7 4 5 6 8 3\r\n```\r\n\r\n### 样例输出 3\r\n\r\n```plain\r\nNO\r\n```\r\n\r\n### 样例输入 4\r\n\r\n```plain\r\n8 10\r\n1 2\r\n2 3\r\n2 4\r\n4 5\r\n3 5\r\n2 7\r\n7 5\r\n5 6\r\n6 8\r\n8 5\r\n5 4 2 1 3 7 6 8\r\n```\r\n### 样例输出 4\r\n\r\n答案请手动计算。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":" _**Subtask #1**_ $(5\\;pts)$：在样例 $\\#4$ 中给出。  \r\n _**Subtask #2**_ $(26\\;pts)$：$1\\le n\\le 10,n-1 \\le m\\le 10$。  \r\n _**Subtask #3**_ $(39\\;pts)$：$1\\le n\\le 2*10^5,1\\le m\\le 3*10^5,m=n-1$。  \r\n _**Subtask #4**_ $(30\\;pts)$：$1\\le n\\le 2*10^5,1\\le m\\le 3*10^5$。  \r\n对于所有数据，均保证没有任何一条路径连接同一个路口，且从 $\\texttt{F}$ 市的任意一个路口均可走到另一个路口。  \r\n数据不保证两个路口之间仅有一条路径。\r\n\r\n出题人：Smokey_Days。"}]}
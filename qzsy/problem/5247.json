{"title":"「2019-05-06提高模拟赛」维修(servicing)","time_limit":1000,"memory_limit":128,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/5247#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=5247","statistics":"https://oj.iqzsy.xyz/problem/5247/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/5247/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/5247"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"> <font face=\"楷体\">&nbsp;&nbsp;&nbsp;&nbsp;T 公主初至 Y 国，见道旁高耸，山谷幽幽，而百姓和乐，民风淳朴，道不拾遗，夜不闭户，宛若欲界之仙都。大喜，居焉，乐不思蜀，俄而十有五载。   \r\n> &nbsp;&nbsp;&nbsp;&nbsp;得归，父大喜，T 公主以 Y 主治告之，遂学其政。高祖乃止休养，却生息，持新政，颁国法，励工农，兴贾商。民闻 T 公主，无不称赞其议。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;——『T 国本纪』</font>\r\n\r\n<strong><font color=\"violet\">Tweetuzki</font></strong> 来到 Y 国后，被这里人民的热情，崇高的道德所吸引，在 Y 国待了长达 15 年之久。看到所有百姓衣食无忧的生活，<strong><font color=\"violet\">Tweetuzki</font></strong> 公主十分感慨。在这 15 年之中，她充分体会到了 Y 国国君 <strong><font color\"black\">C</font><font color=\"red\">hangyu</font></strong> 的政治智慧，有了许多心得。但是 <strong><font color=\"violet\">Tweetuzki</font></strong> 不随便与人交流自己的心得，<strong><font color=\"violet\">Tweetuzki</font></strong> 喜欢与厉害的人交往，如果你在由 <strong>XieRujian</strong> 出版的《Tweetuzki YC 列传》系列比赛中连续 $3$ 次 $\\texttt{AK}$ 比赛，那么你就能讨得公主的欢心，<strong><font color=\"violet\">Tweetuzki</font></strong> 公主就会告诉你她 Y 国之旅的感想。\r\n\r\n但是离开 Y 国前，她发现问题很大，她的马车在山谷里行进时就已经有损坏，路途中常常需要维修，但并不是中途所有的驿站都像 Y 国的城市一样先进，其中大部分不设有维修站。一次维修之后，她的马车最多能在不维修的情况下连续地安全行驶过 $k$ 条大路，如果没有及时停靠在一处设有维修站的驿站的话，她的马车就会不安全。\r\n\r\n15 年之后，沧海桑田，世界出现了许多变化。为了计划行走路线，她派人了解了一下 T 国与 Y 国关口之间的驿站，并把它们绘制成一张地图。\r\n\r\nY 国与 T 国之间有 $n - 2$ 座驿站，加上 Y 国和 T 国的关口一共就有 $n$ 处可停留点，有 $m$ 条可双向通行的大路将它们相连，其中 Y 国关口编号为 $S$，T 国关口编号为 $T$，<strong><font color=\"violet\">Tweetuzki</font></strong> 公主从 Y 国关口出发到达 T 国关口，其中有 $p$ 处可停留点设有维修站，并且 Y 国关口处是一定存在维修站的。\r\n\r\n由于 T 国宗室十分清廉，善良的 <strong><font color=\"violet\">Tweetuzki</font></strong> 公主也一样，但 <strong><font color=\"violet\">Tweetuzki</font></strong> 公主不善于精打细算规划路线，她只想知道如果她能安全回到 T 国，她的车每次至少需要维修至多牢固。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入文件名为 `servicing.in`。\r\n\r\n输入数据第一行一个自然数 $T$，表示测试点编号，便于你获得本题的部分分，你不一定会用到此信息。样例数据的编号为 $0$。  \r\n输入数据第二行一个正整数 $K$，表示数据组数。  \r\n每组测试数据的第一行三个正整数 $n , m , p$，表示可停留点数量，道路数量以及设有维修站的可停留点数量。  \r\n第二行 $p$ 个正整数，分别表示设有维修站可停留点的编号。  \r\n接下来 $m$ 行，每行 $2$ 个整数 $u , v$，表示一条连接点 $u$ 和点 $v$ 的边。  \r\n最后一行两个正整数 $S$ 和 $T$，表示 Y 国关口编号和 T 国关口编号。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出文件名为 `servicing.out`。\r\n\r\n对于每组数据，如果 <strong><font color=\"violet\">Tweetuzki</font></strong> 无法回到 T 国，输出 `-1`；否则输出一行一个正整数 $k$，表示最少在不维修的情况下能连续经过大路的条数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"### 样例输入 1\r\n\r\n```plain\r\n0\r\n2\r\n6 6 3\r\n1 3 6\r\n1 2\r\n2 3\r\n4 2\r\n5 6\r\n4 5\r\n3 4\r\n1 6 \r\n7 10 3\r\n1 3 4\r\n1 2\r\n4 2\r\n7 5\r\n4 5\r\n7 1\r\n2 5\r\n7 2\r\n3 7\r\n3 2\r\n5 1\r\n4 6\r\n```\r\n\r\n### 样例输出 1\r\n\r\n```plain\r\n3\r\n-1\r\n```\r\n\r\n### 样例解释 1\r\n\r\n对于第一组数据，我们可以按照 `1-2-3-4-5-6` 的顺序走到终点，最多连续经过 $3$ 个无维修点的可停留点，可以证明没有更优情况。  \r\n对于第二组数据，$S$ 与 $T$ 不联通，输出`-1`。\r\n\r\n### 样例 2\r\n\r\n见选手目录下`servicing`文件夹中`servicing2.in`与`servicing2.ans`。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"|测试点编号|$n\\le$|$m\\le$|特殊性质|\r\n|:---:|:---:|:---:|:---:|\r\n|$1$|$10$|$20$|无特殊性质|\r\n|$2$|$10$|$20$|无特殊性质|\r\n|$3$|$200$|$2\\ 000$|答案不超过$2$|\r\n|$4$|$200$|$2\\ 000$|答案不超过$2$|\r\n|$5$|$200$|$2\\ 000$|无特殊性质|\r\n|$6$|$200$|$2\\ 000$|无特殊性质|\r\n|$7$|$200$|$2\\ 000$|无特殊性质|\r\n|$8$|$200$|$2\\ 000$|无特殊性质|\r\n|$9$|$1\\ 000$|$10\\ 000$|$p=1$|\r\n|$10$|$1\\ 000$|$10\\ 000$|$p=1$|\r\n|$11$|$1\\ 000$|$10\\ 000$|无特殊性质|\r\n|$12$|$1\\ 000$|$10\\ 000$|无特殊性质|\r\n|$13$|$1\\ 000$|$10\\ 000$|$p\\le10$|\r\n|$14$|$1\\ 000$|$10\\ 000$|$p\\le10$|\r\n|$15$|$15\\ 000$|$30\\ 000$|答案为偶数或负数|\r\n|$16$|$15\\ 000$|$30\\ 000$|答案为偶数或负数|\r\n|$17$|$15\\ 000$|$30\\ 000$|无特殊性质|\r\n|$18$|$15\\ 000$|$30\\ 000$|无特殊性质|\r\n|$19$|$100\\ 000$|$150\\ 000$|无特殊性质|\r\n|$20$|$100\\ 000$|$150\\ 000$|无特殊性质|\r\n\r\n对于所有数据，$K\\le 5\\ ,\\ 1\\le S,T\\ ,\\ S\\neq T\\ ,\\ 1\\le u,v,p\\le n$。"}]}
{"title":"「泉州基地校201811D3」3.胖哥旅游","time_limit":1000,"memory_limit":256,"tags":["提高"],"operation":{"submit":"https://oj.iqzsy.xyz/problem/5216#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=5216","statistics":"https://oj.iqzsy.xyz/problem/5216/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/5216/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/5216"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"有 $n$ 个景点，编号从 $1$ 到 $n$ 。对所有景点，胖哥给他们做了一个排名。\r\n\r\n景点之间由道路连接。若一个景点 $a$ 可以通过若干个节点到另一个景点 $b$ ，则称这两个景点是连通的。\r\n\r\n现在有两种操作：\r\n\r\n> `B x y` 表示在景点 $x$ 与景点 $y$ 之间修建一条道路。\r\n>\r\n> `Q x k` 表示询问当前与景点 $x$ 连通的所有景点中，排名第 $k$ 的景点是哪个，请你输出那个景点的编号。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入文件名为`travel.in`。\r\n\r\n第一行两个正整数 $n$ 和 $m$ ，分别表示景点的个数以及一开始存在的道路数。\r\n\r\n接下来的一行有 $n$ 个数，依次描述胖哥给景点 $1$ 到景点 $n$ 的排名（排名用 $1$ 到 $n$ 来表示）。\r\n\r\n随后的$m$行每行两个正整数 $a$ 和 $b$ ，表示一开始就存在一条连接景点 $a$ 与景点 $b$ 的道路。\r\n\r\n后面剩下的部分描述操作。\r\n\r\n该部分的第一行是一个正整数 $q$ ，表示一共有 $q$ 个操作。\r\n\r\n接下来的 $q$ 行依次描述每个操作，操作的格式如上所述，以大写字母 `Q` 或 `B` 开始，后面跟两个不超过 $n$ 的正整数。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出文件为`travel.out`。\r\n\r\n对于每个 `Q x k` 操作都要依次输出一行，其中包含一个整数，表示所询问景点的编号。如果该景点不存在，则输出 $-1$。\r\n"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"travel.in\r\n``` plain\r\n5 1\r\n4 3 2 5 1\r\n1 2\r\n7\r\nQ 3 2\r\nQ 2 1\r\nB 2 3\r\nB 1 5\r\nQ 2 1\r\nQ 2 4\r\nQ 2 3\r\n```\r\n\r\ntravel.out\r\n``` plain\r\n-1\r\n2\r\n5\r\n1\r\n2\r\n```\r\n\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $30\\%$ 的数据 $n \\le 1000,q \\le 1000$\r\n\r\n对于 $60\\%$ 的数据 $n \\le 10000,q \\le 10000$\r\n\r\n对于 $100\\%$ 的数据 $n \\le 100000,m \\le n，q \\le 300000$\r\n"}]}
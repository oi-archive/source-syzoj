{"title":"「NOIP2008」双栈排序","time_limit":1000,"memory_limit":50,"tags":["提高","NOIP"],"operation":{"submit":"https://oj.iqzsy.xyz/problem/3023#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=3023","statistics":"https://oj.iqzsy.xyz/problem/3023/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/3023/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/3023"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"Tom最近在研究一个有趣的排序问题。通过 $2$个栈 $S1$ 和 $S2$ ，Tom希望借助以下 $4$ 种操作实现将输入序列升序排序。 \r\n\n\r\n\n![若图片失效请下载附加文件](/problem/3023/testdata/download/pic1.png) \r\n\n\r\n\n操作 $a$\r\n\n\r\n\n如果输入序列不为空，将第一个元素压入栈 $S1$\r\n\n\r\n\n操作 $b$\r\n\n\r\n\n如果栈 $S1$ 不为空，将 $S1$ 栈顶元素弹出至输出序列\r\n\n操作 $c$\r\n\n\r\n\n如果输入序列不为空，将第一个元素压入栈 $S2$\r\n\n\r\n\n操作 $d$\r\n\n\r\n\n如果栈 $S2$ 不为空，将 $S2$ 栈顶元素弹出至输出序列\r\n\n\r\n\n如果一个 $1$ ~ $n$ 的排列 $P$ 可以通过一系列操作使得输出序列为 $1，2，…，(n-1)，n$ ，Tom就称 $P$ 是一个“可双栈排序排列”。例如 $(1,3,2,4)$ 就是一个“可双栈排序序列”，而 $(2,3,4,1)$ 不是。下图描述了一个将 $(1,3,2,4)$ 排序的操作序列： $<a,c,c,b,a,d,d,b>$ 。\r\n\n\r\n\n![若图片失效请下载附加文件](/problem/3023/testdata/download/pic2.png) \r\n\n\r\n\n当然，这样的操作序列有可能有几个，对于上例 $(1,3,2,4)$ ， $<a,b,a,a,b,b,a,b>$ 是另外一个可行的操作序列。Tom希望知道其中字典序最小的操作序列是什么。 "},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入文件 $twostack.in$ 的第一行是一个整数 $n$ 。\r\n\n\r\n\n第二行有 $n$ 个用空格隔开的正整数，构成一个 $1$ ~ $n$ 的排列。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出文件 $twostack.out$ 共一行，如果输入的排列不是“可双栈排序排列”，输出数字 $0$ ；\r\n\n\r\n\n否则输出字典序最小的操作序列，每两个操作之间用空格隔开，行尾没有空格。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"### twostack1.in\r\n<pre>\r\n4\r\n1 3 2 4\r\n</pre>\r\n\r\n### twostack1.out\r\n<pre>\r\na b a a b b a b\r\n</pre>\r\n\r\n### twostack2.in\r\n<pre>\r\n4\r\n2 3 4 1\r\n</pre>\r\n\r\n### twostack2.out\r\n<pre>\r\n0\r\n</pre>\r\n\r\n### twostack3.in\r\n<pre>\r\n3\r\n2 3 1\r\n</pre>\r\n\r\n### twostack3.out\r\n<pre>\r\na c a b b d\r\n</pre>\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$30\\%$ 的数据满足： $n\\leq10$\r\n\n\r\n\n$50\\%$ 的数据满足： $n\\leq50$\r\n\n\r\n\n$100\\%$ 的数据满足： $n\\leq1,000$"}]}
{"title":"[图论]排队布局(Bzoj1731)","time_limit":1000,"memory_limit":512,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/1121#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=1121","statistics":"https://oj.iqzsy.xyz/problem/1121/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/1121/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/1121"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"Czy喜欢将他的妹子们排成一队。假设他拥有N只妹纸，编号为1至N。Czy让他们站成一行，等待自己来派送营养餐。这些妹纸按照编号大小排列，并且由于它们都很想早点吃饭，于是就很可能出现多只妹纸挤在同一位置的情况(也就是说，如果我们认为妹纸位于数轴上，那么多只妹纸的位置坐标可能相同)。\r\n\r\n因为众所周知的原因，某些妹纸之间互相喜欢，他们希望互相之间的距离至多为一个定值。但某些妹纸之间互相厌恶，他们希望互相之间的距离至少为一个定值。现在给定ML个互相喜爱的妹纸对以及他们之间距离的最大值，MD个互相厌恶的妹纸对以及他们之间距离的最小值。\r\n\r\n你的任务是计算在满足以上条件的前提下，帮助Czy计算出编号为1和编号为N的妹纸之间距离的最大可能值。\r\n\r\n "},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行有 3 个整数，每两个整数之间用一个空格隔开，依次表示 n,ML和DL ；\r\n\r\n此后ML行，每行包含三个用空格分开的整数A,B和D，其中A,B满足1<=A<=B<=N。表示编号为A和B的妹纸之间的距离至多为D。\r\n\r\n此后MD行，每行包含三个用空格分开的整数A,B和D，其中A,B满足1<=A<=B<=N。表示编号为A和B的妹纸之间的距离至少为D。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出文件仅包含一个整数。如果不存在任何合法的排队方式，就输出-1。如果编号1和编号N的妹纸间距离可以任意，就输出-2 。否则输出他们之间的最大可能距离。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"Sample Input\r\n```\r\n4 2 1\r\n1 3 10\r\n2 4 20\r\n2 3 3\r\n```\r\nSample Output\r\n```\r\n27\r\n```\r\n四只牛分别在0，7，10，27."},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于40%的数据，N<=100；\r\n\r\n对于100%的数据，N<=1000；ML,MN<=10000；D<=1000000。"}]}
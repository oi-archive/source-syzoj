{"title":"「长乐国庆集训2018ROUND4」3.漫步","time_limit":1000,"memory_limit":512,"tags":["题面未修复"],"operation":{"submit":"https://oj.iqzsy.xyz/problem/5170#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=5170","statistics":"https://oj.iqzsy.xyz/problem/5170/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/5170/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/5170"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"T大有$n$个景点，每个点会被赋予一个0到d-1的之间的整数，表示该景点的类型。\r\n\n\r\n\n校园里阡陌交通，大一新生czk**第一时刻**在景点1，然后他开始随意地漫步，假设某时刻他在第$i$个景点，则下一时刻，川川会以概率$p _{i,j} $移动到景点j (保证![img](file:///C:/Users/panda/AppData/Local/Temp/msohtmlclip1/01/clip_image002.gif))。\r\n\n\r\n\n在漫步N个时刻以后，czk会把他所经过的景点类型全部下来，这样他会得到一个长度为$N$的数列$S$，$S$中每个数都在$0$到$d-1$之间。\r\n\n\r\n\nczk很想研究，他最后得到的数列的概率分布。假设他所有得到的数列为$S_1,S_2,\\cdots,S_m$，那么令\r\n\n\r\n\n![img](file:///C:/Users/panda/AppData/Local/Temp/msohtmlclip1/01/clip_image004.gif)\r\n\n\r\n\n表示表示他得到的数列是Si的概率。\r\n\n\r\n\n他想知道![img](file:///C:/Users/panda/AppData/Local/Temp/msohtmlclip1/01/clip_image006.gif)的值，请你帮他解决这个问题。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个正整数$n$和$N$，表示景点个数和czk一共要走的时刻数。\r\n\n\r\n\n接下来$n$行，每行$n$个数，第$i$行的第$j$个数字表示$p _{i,j}$。输入数据保证对于任意的$i$，满足。\r\n\n\r\n\n接下来一行一个数$d$，表示景点的类型数。\r\n\n\r\n\n再一行$n$个$0$到$d-1$之间的数，依次表示每个景点的类型。\r\n\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出包括一行，表示![img](file:///C:/Users/panda/AppData/Local/Temp/msohtmlclip1/01/clip_image006.gif)的值，保留9位小数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"**【样例输入1】**\r\n\r\n```\r\n2 2\r\n0.5 0.5\r\n0.5 0.5\r\n2\r\n0 1\r\n```\r\n\r\n**【样例输出1】**\r\n\r\n```\r\n0.500000000\r\n```\r\n\r\n**【样例输入2】**\r\n\r\n```\r\n3 3\r\n0.2 0.4 0.4\r\n1 0 0\r\n1 0 0\r\n2\r\n0 1 1\r\n```\r\n\r\n**【样例输出2】**\r\n\r\n```\r\n0.667200000\r\n```\r\n\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于$30\\%$的数据，$N \\le 10,d \\le 3$；\r\n\n\r\n\n对于$50\\%$的数据，$N \\le 50$；\r\n\n\r\n\n对于$100\\%$的数据，$，，n \\le 16，N \\le 107，d \\le 100"}]}
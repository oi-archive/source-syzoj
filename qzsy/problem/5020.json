{"title":"「长乐集训 2017 Day7」序列游戏","time_limit":500,"memory_limit":256,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/5020#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=5020","statistics":"https://oj.iqzsy.xyz/problem/5020/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/5020/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/5020"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"给定一个整数序列，现在你可以对这个序列进行若干次删除操作，每次可以删掉序列中一段连续子序列，每次删除都会得到一定分数。  \r\n\n每次删除的连续子序列需要符合的条件为：\r\n\n\r\n\n1. 序列中相邻两个元素差为 $1$  \r\n\n2. 若某元素不为连续子序列的首元素或尾元素，则它不能同时小于相邻的两个元素\r\n\n\r\n\n例子： $(1, 2, 3, 4, 3), (1, 2), (3, 2), (3)$ 都符合条件; $(3, 2,1, 2, 3)$不符合条件。\r\n\n\r\n\n一次删除操作执行后，所删除的连续子序列的两端将会并在一起成为相邻元素。\r\n\n\r\n\n若一次操作删除的连续子序列长度为$m$,则你将会得到 $v_m$ 的分数。\r\n\n\r\n\n现在对于给定序列，请你求出所能得到的最大总分。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $n$ ，表示序列长度。  \r\n\n第二行 $n$ 个整数 $v_i$ ，表示删除序列长度所对应的分数。  \r\n\n第三行 $n$ 个整数而，表示初始时的序列。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"仅一行一个整数表示答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n6  \r\n-100 5 6 10 0 0  \r\n3 1 2 3 4 10  \r\n```\r\n#### 样例输出\r\n```plain\r\n11\r\n```\r\n#### 样例解释\r\n```plain\r\n3 x 1 2 3 x 4 10 -----> 3 4 10  \r\nx 3 4 x 10 -----> 10  \r\n5 + 6 = 11\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"10%的数据： $n \\leq 3$  \r\n\n40%的数据： $n \\leq 10$  \r\n\n70%的数据： $n \\leq 70$  \r\n\n100%的数据：$1 \\leq n \\leq 150$ , $|v_i| \\leq 10^4$ , $0 \\leq a_i \\leq 10^9$ , 相同的不超过 $7$ 个"}]}
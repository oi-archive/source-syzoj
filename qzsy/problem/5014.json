{"title":"「长乐集训 2017 Day5」红与蓝","time_limit":1000,"memory_limit":256,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/5014#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=5014","statistics":"https://oj.iqzsy.xyz/problem/5014/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/5014/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/5014"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"小红和小蓝正在给定的一棵树上进行游戏。这棵树中每个结点会有一个颜色，初始时非叶结点均是无色，叶子结点会是红色，蓝色或是无色三种情况之一。\r\n\n\r\n\n现在小红和小蓝轮流给一个无色的叶子结点染上颜色（小红会染上红色，小蓝染上蓝色），小红先染。所有叶子都有颜色后，非叶结点的颜色将会逐一确定：一个非叶结点的颜色是它所有儿子的颜色中出现次数较多的那个（保证每个结点都有奇数个儿子）。最后，根是谁的儿子，谁就会获胜。\r\n\n\r\n\n现在请你告诉小红，她是否能赢，若能赢的话，还请你告诉她，她第一步选择哪些叶子能赢。\r\n\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $T$ 表示数据组数。\r\n\n\r\n\n每组数据第一行一个整数 $n$ 表示树的结点数，结点从 $1 \\sim n$ 编号。\r\n\n\r\n\n第二行 $n$ 个整数，第 $i$ 个整数，第 $i$ 个整数 $f_i$ 表示 $i$ 号结点的父亲，保证 $f_1=0.$ 注意不保证 $f_i<i$\r\n\n\r\n\n第三行 $n$ 个整数，第 $i$ 个整数 $g_i$ 表示 $i$ 号结点初始时的颜色，$g_i = 0$ 表示红色，$g_i=1$ 表示蓝色，$g_i=-1$ 表示无色。保证非叶结点都是无色。\r\n\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"每组数据输出一行。\r\n\n\r\n\n若小红可以赢则先输出一个正整数 $m$ 表示第一步可以选的叶子数，接下来 $m$ 个正整数表示那些叶子的编号，要求从小到大输出。\r\n\n\r\n\n若你只知道小红能赢，则你可以只输出一行单独一个 $0.$\r\n\n\r\n\n否则（小红不能赢），请输出一个整数 $-1.$"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n2\r\n2\r\n0 1\r\n-1 -1\r\n2\r\n0 1\r\n-1 1\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n1 2\r\n-1\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$20\\%$ 的数据：$1\\leq n\\leq 20,\\ T=1$  \r\n\n$60\\%$ 的数据：$1\\leq n\\leq 2000$  \r\n\n$100\\%$ 的数据：$1\\leq n\\leq 10^5$，$1\\leq T \\leq 10$，若你判断对了胜负，你就可以得到该测试点一半的分数。"}]}
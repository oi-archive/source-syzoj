{"title":"幻想乡の篝火宴会","time_limit":1000,"memory_limit":128,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/8214#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=8214","statistics":"https://oj.iqzsy.xyz/problem/8214/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/8214/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/8214"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"~~~\r\n幻想乡，秋意渐浓\r\n秋之夜，少女们齐聚一堂\r\n围成一圈，点起木柴\r\n只留下，那一夜中最美的火焰...\r\n           --Dew White\r\n~~~\r\n在一个秋天的夜晚，灵梦（**hakureireimu**）、魔理沙（**kirisamemarisa**）、荷取（**kawashironitori**）、觉（**komeijisatori**）、恋（**komeijikoishi**）、123（**doremysweet**）和帕琪（**patchouliknowledge**）按逆时针方向围着篝火举行宴会（请自行打草稿）。灵梦、魔理沙、荷取、123和帕琪朝着篝火的方向聊天，而恋恋喜欢看夜晚一闪一闪的小星星，她的姐姐觉陪她一起背对着篝火的方向看星星。一只毛茸茸的毛玉收到了一封信，上面写着：“最可爱的少女，是灵梦右边的第3个少女的左边的第2个少女的左边的第1个少女。--yn”毛玉想知道yn认为的最可爱的少女是谁,于是开始寻找她。\r\n\r\n\r\n由于灵梦面朝篝火方向，所以灵梦右边的第3个少女是觉；\r\n\r\n\r\n由于觉背对着篝火方向，所以觉左边的第2个少女是123；\r\n\r\n\r\n由于123面朝篝火方向，所以123左边的第1个少女是恋；\r\n\r\n\r\n小毛玉知道了yn认为的最可爱的少女是恋恋，所以yn是恋厨。（yn：“是恋恋，awsl。”）\r\n\r\n\r\n之后每次有$ n $位少女举行篝火宴会时（从$ 1 $至$ n $按照逆时针方向排序），总会有一封信寄给小毛玉。这封信有$ m $条形如“左/右边第$ d_i $个少女”的顺序条件，且第一条条件一定是“第$ 1 $位少女的左/右边第$ d_1 $个少女”，小毛玉认认真真地按照每条条件寻找，最后终于找到那位最可爱的少女。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"从$ party.in $读入数据；\r\n\r\n\r\n第一行读入两个整数$ n $,$ m $，分别表示参加宴会的人数和信中的条件数。\r\n\r\n\r\n接下来的$ n $行中，第$ i+1 $行输入一个整数$ a_i $和由不超过25个小写字母组成的字符串$ s_i $，分别表示第$ i $位少女的朝向和姓名。其中，$ a_i=0 $表示该少女面向篝火，$ a_i=1 $表示该少女背对篝火。\r\n\r\n\r\n接下来的$ m $行中，每行有两个整数$ v $和$ d $，$ v $表示条件中所描述的朝向，$ d $表示依照朝向的第$ d $个少女。其中，$ v=0 $表示朝向左，$ v=1 $表示朝向右。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出数据于$ party.out $;\r\n\r\n\r\n输出一个字符串，表示信封中所谓的最可爱的少女。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"输入样例\r\n```\r\n7 3\r\n0 hakureireimu\r\n0 kirisamemarisa\r\n0 kawashironitori\r\n1 komeijisatori\r\n1 komeijikoishi\r\n0 doremysweet\r\n0 patchouliknowledge\r\n1 3\r\n0 2\r\n0 1\r\n```\r\n输出样例\r\n```\r\nkomeijikoishi\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $ 20\\% $ 的数据， $ 3 \\leq n \\leq 100 $ ，$ 1 \\leq m \\leq 500 $;\r\n\r\n\r\n对于 $ 50\\% $ 的数据， $ 3 \\leq n \\leq 1000 $ ，$ 1 \\leq m \\leq 3000 $;\r\n\r\n\r\n对于 $ 100\\% $ 的数据， $ 3 \\leq n,m \\leq 100000 $ , $ 1 \\leq d \\leq n-1 $ 。\r\n\r\n\r\n其中有 $ 20\\% $ 的数据满足所有的$ a_i=0 $;有 $ 20\\% $ 的数据满足所有的$ v=0 $。"}]}
{"title":"[数据结构] 树上操作[bzoj4034]","time_limit":1000,"memory_limit":256,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/1170#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=1170","statistics":"https://oj.iqzsy.xyz/problem/1170/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/1170/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/1170"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"有一棵点数为 N 的树，以点 1 为根，且树点有边权。然后有 M 个\r\n操作，分为三种：\r\n操作 1 ：把某个节点 x 的点权增加 a 。\r\n操作 2 ：把某个节点 x 为根的子树中所有点的点权都增加 a 。\r\n操作 3 ：询问某个节点 x 到根的路径中所有点的点权和。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含两个整数 N, M 。表示点数和操作数。\r\n接下来一行 N 个整数，表示树中节点的初始权值。\r\n接下来 N-1行每行三个正整数 fr, to ， 表示该树中存在一条边 (fr, to) 。\r\n再接下来 M 行，每行分别表示一次操作。其中第一个数表示该操作的种类（ 1-3 ） ，之后接这个操作的参数（ x 或者 x a ） 。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每个询问操作，输出该询问的答案。答案之间用换行隔开。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"Sample Input\r\n```\r\n5 5\r\n1 2 3 4 5\r\n1 2\r\n1 4\r\n2 3\r\n2 5\r\n3 3\r\n1 2 1\r\n3 5\r\n2 1 2\r\n3 3\r\n```\r\nSample Output\r\n```\r\n6\r\n9\r\n13\r\n```"}]}
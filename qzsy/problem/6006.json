{"title":"Night 的管道问题","time_limit":1000,"memory_limit":256,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/6006#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=6006","statistics":"https://oj.iqzsy.xyz/problem/6006/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/6006/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/6006"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"众所周知，$\\text{R_rank_Pyramid}$ 自从那年省夏从附中一个高达三米的高台跃下而毫发无伤后，便发现了自己猫的潜质——可以灵活的进行各项高难度跳跃奔跑。 因此，他沉迷于跑酷无法自拔，并依靠着自己猫的能力而次次成功。 但是，他的好友 $\\text{Night}$ 十分担心他有一天翻车了，就不能问他题目了，所以打算让他吃亏一次，放弃这项危险的操作。 \r\n\n\r\n\n这一天，$\\text{R_rank_Pyramid}$ 在一堆管道中练习着自己猫的能力，$\\text{Night}$  感受到时机到了，便将 $\\text{R_rank_Pyramid}$ 困在了管道中的一处，并往管道里注水，打算给他一个教训。 \r\n\n\r\n\n抽象化地来讲，这个管道系统可以视为一个二维平面，平面里有一堆管道，这些管道有横向的也有纵向的，但是为了简单点分析这个问题，$\\text{Night}$ 钦定了横向的管道连接容量无限，且不占体积，而竖向的管道直径均为 $1$ ，上端开口而下端封底。 噢对了，$\\text{Night}$ 使用的水龙头也十分神奇，这个水龙头恰好能在单给一个管道注水时，水面每秒上升 $1\\text{m}$ 。\r\n\n\r\n\n并且 $\\text{Night}$ 抽象的模型还有如下假设：\r\n\n\r\n\n<p>1. $\\text{Night}$ 的神奇水源总是在第一根管道的正上方。</p>\r\n\n\r\n\n<p>2. 任意两个管道的左上角的 $x$ 坐标都不相同。</p>\r\n\n\r\n\n<p>3. 任意连接的两个端点都在管道上，且连接跨过的管道不算被连接（不会出现悬空的情形）。</p>\r\n\n\r\n\n<p>4. 所有位置都用有序数对 $(x, y)$ 表示，其中 $y$ 坐标从上到下逐渐增大；$x$ 坐标从左到右逐渐增大，因此左上角的坐标为 $(0,0)$ ，其他所有坐标值为 $0$ 到 $100$ 之间的整数。</p>\r\n\n\r\n\n<p>5.连接只会从一个管道的右侧管壁连接至另一个管道的左侧管壁。</p>\r\n\n\r\n\n<p>6.神奇的连接会智能地分配流向的水量，在每一时刻水流平均分配到当前可达的所有最低位置。</p>\r\n\n\r\n\n\r\n\n\r\n\n如图所示，根据物理知识，在前 $2$ 秒中，水注如左边的管道底部，第 $3$~$5$ 秒时注入右边的管道，第 $6$~$9$ 秒同时注入两个管道（虽然流量不变，但是由于同时给两个管道注水，因此水面上升的速度仅为每秒 $0.5\\text{m}$），接触到 $\\text{R_rank_Pyramid}$ 。 给出管道和管道之间连接的位置，以及 $\\text{R_rank_Pyramid}$ 被困的位置，求水面接触到他的时间。假设 $\\text{R_rank_Pyramid}$ 的实际位置比给出的略高一点（他看到水肯定会向上躲嘛），因此如果 $\\text{R_rank_Pyramid}$ 像图中这样在左边管道的 $y=4$ 的位置，答案应该是 $5$ 秒。 因为前两秒后水面虽然看起来接触到了 $\\text{R_rank_Pyramid}$，但实际上比他略低一点。 "},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"对于每个测试点，第一行为一个数据组数 $T$ 。 \r\n\n\r\n\n对于每组数据，按照如下格式输入：\r\n\n\r\n\n输入第一行为一个整数 $p$，表示管道的数目；以下 $p$ 行，每行用 $x, y, h$ 三个整数描述一根管道。$(x,y)$ 为管道左上角坐标；$h$ 为管道高度。再以下一行为一个整数 $L$，为连接的个数。接着 $L$ 行每行用三个整数 $x, y, d$ 表示一个连接，$(x,y)$ 为左端点的坐标，$d$ 为连接的长度。最后一行为两个整数 $A, B$，表示 $\\text{R_rank_Pyramid}$ 在管道 $A$ 的 $y$ 坐标为 $B$ 的位置。管道按照在输入中出现的顺序编号为 $1,2,3, \\ldots, p$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"仅一个整数，为水面接触到 $\\text{R_rank_Pyramid}$ 的时间。如果水面无法接触到 $\\text{R_rank_Pyramid}$ ，则输出 $-1$ 。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"输入样例：\r\n````\r\n1\r\n2\r\n2 0 6\r\n6 1 6\r\n1\r\n3 4 3\r\n2 2\r\n````\r\n输出样例：\r\n````\r\n9\r\n````"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100 \\% $ 的数据，$1 \\le p \\le 20 , 1 \\le h \\le 20 , 0 \\le L \\le 50 , 1 \\le d \\le 20 , 1 \\le T \\le 10$\r\n\n\r\n\n![样例解释](https://i.loli.net/2018/04/01/5ac0a8d3d95d0.png)"}]}
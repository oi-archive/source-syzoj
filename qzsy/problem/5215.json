{"title":"「泉州基地校201811D3」2.胖哥的树","time_limit":1000,"memory_limit":256,"tags":["提高"],"operation":{"submit":"https://oj.iqzsy.xyz/problem/5215#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=5215","statistics":"https://oj.iqzsy.xyz/problem/5215/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/5215/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/5215"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"胖哥有一棵 $n$ 个节点的树，其中有一些节点是黑色的，另外一些节点是白色的。\r\n\r\n考虑这棵树上的一个$k$条边的边集。如果胖哥将这 $k$ 条边从树上删除，则将会把这棵树分成 $K+1$ 个联通块。\r\n\r\n现在，胖哥想知道，存在多少种这样的边集，使得删除这些边后，每个联通块只有一个黑色的节点。由于答案可能很大，请将答案 $\\text{mod}$ $1000000007$（$10^9+7$） 。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入文件名为`tree.in`。\r\n\r\n共三行，第一行包含一个整数 $n$ ，表示树的节点的个数。\r\n\r\n第二行有 $n-1$ 个整数 $P_0,P_1, \\cdots ,P_{n-2}$ 。 $P_i$ 表示第（ $i+1$ ）个节点与第 $P_i$ 个节点之间有一条边。假设树的节点的编号是从$0$到$n-1$。\r\n\r\n第三个有 $n$ 个整数 $X_0,X_1, \\cdots ,$X_{n-1}$ ( $X_i=0$ 或 $1$ )。如果  $X_i$ 等于1，表示节点 $i$ 是黑色，反之则表示节点 $i$ 是白色。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出文件为`tree.out`。\r\n\r\n输出共一行，包含一个整数，表示答案 $\\text{mod}$   $1000000007$ 。\r\n"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"【输入输出样例1】\r\ntree.in\t\r\n```\r\n3\r\n0 0\r\n0 1 1\t\r\n```\r\ntree.out\r\n```\r\n2\r\n```\r\n\r\n【输入输出样例2】\r\ntree.in\r\n```\r\n6\r\n0 1 1 0 4\r\n1 1 0 0 1 0\r\n```\r\ntree.out\r\n```\r\n1\r\n```\r\n\r\n【输入输出样例3】\r\ntree.in\r\n```\r\n10\r\n0 1 2 1 4 4 4 0 8\r\n0 0 0 1 0 1 1 0 0 1\r\n```\r\n\r\ntree.out\r\n```\r\n27\r\n```\r\n\r\n\r\n\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $30\\%$ 的数据，$2 \\le n \\le 10$。\r\n\r\n对于 $60\\%$ 的数据，$2 \\le n \\le 1000$。\r\n\r\n对于 $100\\%$ 的数据，$2 \\le n \\le 100000$。\r\n"}]}
{"title":"「长乐集训 2017 Day6」流浪者","time_limit":2500,"memory_limit":256,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/5018#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=5018","statistics":"https://oj.iqzsy.xyz/problem/5018/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/5018/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/5018"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"有一位流浪者正在一个 $n\\times m$ 的网格图上流浪。初始时流浪者拥有 $S$ 点体力值。\r\n\n\r\n\n流浪者会从 $(1,1)$ 走向 $(n,m)$，并且他只会向下走 $((x,y)\\rightarrow (x+1,y))$ 或是往右走 $((x,y)\\rightarrow (x,y + 1))$，在所有可行的路线中他会随机选择一条。\r\n\n\r\n\n网格图中还有 $K$ 个障碍点。若流浪者当前体力值为 $s$，则他经过一个障碍点后体力值会变为 $\\lceil \\frac s2 \\rceil.$\r\n\n\r\n\n现在请你求出，流浪者到达 $(n,m)$ 时他体力值的期望是多少。\r\n\n\r\n\n若答案为 $\\frac a b$，则你输出 $\\frac a b$ 在模 $10^9 + 7$ 意义下的值即可。\r\n\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行四个整数 $n,m,K,S$，意义见题目描述。\r\n\n\r\n\n接下来 $K$ 行每行两个整数 $x_i,y_i$ 表示一个障碍点，保证一个障碍点不会出现多次。起点和终点可能也会是障碍点。\r\n\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"仅一行一个整数表示答案。\r\n\n"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入1\r\n```plain\r\n3 3 2 11\r\n2 1\r\n2 3\r\n```\r\n\r\n#### 样例输出1\r\n```plain\r\n333333342\r\n```\r\n\r\n#### 样例解释1\r\n共有 $6$ 种合法路径，这里不一一列出。\r\n\r\n$\\frac 1 6 \\times (6+6+11+3+6+6)=\\frac {19}3$\r\n\r\n#### 样例输入2\r\n```plain\r\n1 6 2 15\r\n1 1\r\n1 5\r\n```\r\n\r\n#### 样例输出2\r\n```plain\r\n4\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$30\\%$ 的数据：$n,m\\leq 10$  \r\n\n$50\\%$ 的数据：$n,m\\leq 1000$  \r\n\n$100\\%$ 的数据：$1\\leq n,m \\leq 10^5$，$0\\leq K \\leq min(nm,2000)$，$1\\leq S \\leq 10^6$"}]}
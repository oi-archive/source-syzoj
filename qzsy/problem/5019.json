{"title":"「长乐集训 2017 Day7」采蘑菇","time_limit":2000,"memory_limit":256,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/5019#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=5019","statistics":"https://oj.iqzsy.xyz/problem/5019/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/5019/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/5019"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"A 君住在魔法森林里，魔法森林可以看做一颗 $n$ 个接点的树，接点从 $1\\sim n$ 编号。树中的每个接点上都生长着蘑菇。蘑菇有许多不同的种类，但同一个接点上的蘑菇都是同一个种类，更具体地，$i$号结点上生长着种种类 $c_i$ 的蘑菇。\r\n\n\r\n\n现在 A 君打算出去采蘑菇，但他并不知道哪里的蘑菇更好，因此他选定起点 $s$ 后会等概率随机选择树中的某个节点t作为终点，之后从 $s$ 沿着 $(s，t)$ 间的最短路径走到 $t$。并且 A 君会采摘途中所经过的所有结点上的蘑菇。\r\n\n\r\n\n现在 A 君想知道，对于每一个节点 $u$，假如他从这个节点出发，他最后能采摘到的蘑菇种类数的期望是多少。为了方便，你告诉 A 君答案 $\\times n$ 的值即可。\r\n\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $n$ 表示结点数。\r\n\n\r\n\n第二行 $n$ 个整数 $c_i$ 表示每个节点的蘑菇的种类。\r\n\n\r\n\n接下来 $n - 1$ 行每行两个数 $u_i$， $v_i$ 表示树中的一条边。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出 $n$ 行每行一个整数，第 $i$ 行的整数表示起点为结点 $i$ 时的答案。\r\n\n"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5 \r\n1 2 3 2 3\r\n1 2\r\n1 3\r\n2 4\r\n2 5\r\n```\r\n#### 样例输出\r\n```plain\r\n10\r\n9\r\n12\r\n9\r\n11\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$30\\%$ 的数据： $n \\leq 2000$  \r\n\n另有 $20\\%$ 的数据：给出的第$i$条边为$\\{i,i + 1\\}$   \r\n\n另有 $20\\%$ 的数据：蘑菇的种类最多 $3$ 种  \r\n\n$100\\%$ 的数据：$1 \\leq n \\leq 3 \\times 10^5$, $0 \\leq c_i \\leq n$"}]}
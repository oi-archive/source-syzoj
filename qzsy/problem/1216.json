{"title":"「动态规划」仓库建设","time_limit":1000,"memory_limit":512,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/1216#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=1216","statistics":"https://oj.iqzsy.xyz/problem/1216/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/1216/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/1216"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**原题来自：ZJOI 2007**\r\n\r\n> L 公司在山上有一些工厂。由于这座山处于高原内陆地区（干燥少雨），L 公司一般把产品直接堆放在露天，以节省费用。突然有一天，L 公司的总裁 L 先生接到气象部门的电话，被告知三天之后将有一场暴雨，于是 L 先生决定紧急在某些工厂建立一些仓库以免产品被淋坏。\r\n\r\nL 公司在山上有 $N$ 个工厂。如图所示，工厂 $1$ 在山顶，工厂 $N$ 在山脚。\r\n\r\n<div style=\"text-align: center;\">\r\n<img src=\"https://i.loli.net/2018/08/24/5b7f7c72ee419.png\" width=\"60%\" style=\"margin: 0 auto;\">  \r\n</div>\r\n\r\n由于地形的不同，在不同工厂建立仓库的费用可能不同。工厂 $i$ 目前已有成品 $P_i$ 件，在该厂建立仓库的费用为 $C_i$。对于没有建立仓库的工厂，其产品应被运往其他的仓库进行储藏，而由于 L 公司产品的对外销售处设置在山脚的工厂 $N$，故产品只能往山下运（即只能运往编号更大的工厂的仓库），当然运送产品也是需要费用的，假设一件产品运送 $1$ 个单位距离的费用是 $1$。假设建立的仓库容量都都是足够大的，可以容下所有的产品。  \r\n已知：\r\n\r\n1. 工厂 $i$ 距离工厂 $1$ 的距离 $X_i$（其中 $X_1=0$）；\r\n2. 工厂 $i$ 目前已有成品数量 $P_i$；\r\n3. 在工厂 $i$ 建立仓库的费用 $C_i$。\r\n\r\n请你帮助 L 公司寻找一个仓库建设的方案，使得总的费用（建造费用+运输费用）最小。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含一个整数 $N$，表示工厂的个数。  \r\n接下来 $N$ 行，每行包含三个整数 $X_i,$ $P_i,$ $C_i$，意义如题中所述。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"仅包含一个整数，为可以找到最优方案的费用。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n3\r\n0 5 10\r\n5 3 100\r\n9 6 10\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n32\r\n```\r\n\r\n#### 样例说明\r\n在工厂 $1$ 和工厂 $3$ 建立仓库，建立费用为 $10+10=20$，运输费用为 $(9-5)\\times 3 = 12$，总费用 $32$。如果仅在工厂 $3$ 建立仓库，建立费用为 $10$，运输费用为 $(9-0)\\times 5$ $+(9-5)\\times 3$ $=57$，总费用 $67$，不如前者优。\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于全部数据，$N \\le 10^6$，保证所有的 $X_i,$ $P_i,$ $C_i$ 均在 `int` 范围以内，保证中间计算结果不超过 `long long` 范围。 "}]}
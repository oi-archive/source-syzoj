{"title":"「NOIP2005」篝火晚会","time_limit":1000,"memory_limit":128,"tags":["提高","NOIP"],"operation":{"submit":"https://oj.iqzsy.xyz/problem/3010#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=3010","statistics":"https://oj.iqzsy.xyz/problem/3010/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/3010/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/3010"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"佳佳刚进高中，在军训的时候，由于佳佳吃苦耐劳，很快得到了教官的赏识，成为了“小教官”。\r\n\n\r\n\n在军训结束的那天晚上，佳佳被命令组织同学们进行篝火晚会。一共有 $n$ 个同学，编号从1到n。一开始，同学们按照 $1，2，……，n$ 的顺序坐成一圈，而实际上每个人都有两个最希望相邻的同学。如何下命令调整同学的次序，形成新的一个圈，使之符合同学们的意愿，成为摆在佳佳面前的一大难题。\r\n\n\r\n\n佳佳可向同学们下达命令，每一个命令的形式如下：\r\n\n\r\n\n$(b_1, b_2,... b_{m-1}, b_m)$\r\n\n\r\n\n这里 $m$ 的值是由佳佳决定的，每次命令 $m$ 的值都可以不同。这个命令的作用是移动编号是 $b_1，b_2，…… b_{m–1}，b_m$ 的这 $m$ 个同学的位置。要求 $b_1$ 换到 $b_2$ 的位置上， $b_2$ 换到 $b_3$ 的位置上，……，要求 $b_m$ 换到 $b_1$ 的位置上。\r\n\n\r\n\n执行每个命令都需要一些代价。我们假定如果一个命令要移动 $m$ 个人的位置，那么这个命令的代价就是 $m$。我们需要佳佳用最少的总代价实现同学们的意愿，你能帮助佳佳吗？"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入文件 $fire.in$ 的第一行是一个整数 $n$ ，表示一共有 $n$ 个同学。\r\n\n\r\n\n其后 $n$ 行每行包括两个不同的正整数，以一个空格隔开，分别表示编号是 $1$ 的同学最希望相邻的两个同学的编号，编号是 $2$ 的同学最希望相邻的两个同学的编号，……，编号是 $n$ 的同学最希望相邻的两个同学的编号。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出文件 $fire.out$ 包括一行，这一行只包含一个整数，为最小的总代价。\r\n\n\r\n\n如果无论怎么调整都不能符合每个同学的愿望，则输出-1。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"### fire.in\r\n<pre>\r\n4\r\n3 4\r\n4 3\r\n1 2\r\n1 2\r\n</pre>\r\n\r\n### fire.out\r\n<pre>\r\n2\r\n</pre>"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于$30\\%$ 的数据，$n \\leq 1,000 $；\r\n\n\r\n\n对于$100\\%$ 的数据， $3\\leq n\\leq 50,000$ 。"}]}
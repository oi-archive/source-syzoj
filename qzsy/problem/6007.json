{"title":"「FJWC2018」攻略","time_limit":1000,"memory_limit":256,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/6007#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=6007","statistics":"https://oj.iqzsy.xyz/problem/6007/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/6007/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/6007"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"一款游戏有 $n$ 个场景 $(scene)$，某些场景可以通过不同的选择支到达其他场景。所有场景和选择支构成树状结构：开始游戏时在根节点，叶子节点为结局。每个场景有一个价值。一名玩家攻略 $k$ 次该游戏，问该玩家能观赏到的场景的价值和最大是多少（同一场景观看多次不能重复得到价值）？"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个正整数 $n,k$。\r\n\n\r\n\n第二行 $n$ 个正整数，表示每个场景的价值。\r\n\n\r\n\n以下 $n-1$行,每行 $2$ 个整数 $a,b$，表示 $a$ 场景有个选择支通向 $b$ 场景（即 $a$ 是 $b$ 的父亲）。\r\n\n\r\n\n保证场景 $1$ 为根节点"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一个整数表示答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"输入样例：\r\n````\r\n5 2\r\n4 3 2 1 1\r\n1 2\r\n1 5\r\n2 3\r\n2 4\r\n````\r\n输出样例：\r\n````\r\n10\r\n````"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于$20\\%$的数据，$n \\le 1000$，$k \\le 2$；\r\n\n\r\n\n对于$40\\%$的数据，$n \\le 1000$；\r\n\n\r\n\n对于$70\\%$的数据，$n \\le 100000$；\r\n\n\r\n\n对于$100\\%$的数据，$n \\le 200000$，$1 \\le$ 场景价值 $\\le 2^{31}-1$。"}]}
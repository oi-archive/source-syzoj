{"title":"「FJSC2018TGD5T2」Candies","time_limit":4000,"memory_limit":256,"tags":["提高"],"operation":{"submit":"https://oj.iqzsy.xyz/problem/5059#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=5059","statistics":"https://oj.iqzsy.xyz/problem/5059/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/5059/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/5059"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"派大星有 $n$ 个儿子，编号从 $1$ 到 $n$。\r\n\n\r\n\n它现在想把 $C$ 个糖果分给它的儿子们，当然每个儿子分到的糖果都必须是非负整数。\r\n\n\r\n\n若第 $i$ 个儿子分配到了 $a_i$ 个糖果：\r\n\n\r\n\n- 设第 $i$ 个儿子的一颗赛艇度为 $X_i$。\r\n\n\r\n\n- 则第 $i$ 个儿子的愉悦值为 $x_i^{a_i}$。\r\n\n\r\n\n一种分配方案的愉悦度为该分配方案下，所有儿子的愉悦度的 **乘积**（$\\prod_{i=1}^nx_i^{a_i}$）。\r\n\n\r\n\n我们定义当第 $i$ 个儿子的一颗赛艇度为 $x_i$ 时，**所有分配方案** 的愉悦度的 **和** 为 $f(x_1, x_2, ... x_n)$。\r\n\n\r\n\n现在第 $i$ 个儿子的一颗赛艇度 $x_i$ 可能是 $[l_i, r_i]$ 中的一个值。\r\n\n\r\n\n派大星想求所有可能的一颗赛艇度情况下，$f(x_1,x_2, ... x_n)$ 的和（对 $10^9 + 7$ 取模）。\r\n\n\r\n\n即 $\\sum_{x_1 = l_1}^{r_1} \\sum_{x_2 = l_2}^{r_2} ... \\sum_{x_n = l_n}^{r_n}f(x_1, x_2, ... x_n)$。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"从 `candies.in` 读入数据。\r\n\n```plain\r\n\nn c\r\n\nl1 l2 ... ln\r\n\nr1 r2 ... rn\r\n\n```"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"向 `candies.out` 输出数据。\r\n\n\r\n\n输出 $\\sum_{x_1 = l_1}^{r_1} \\sum_{x_2 = l_2}^{r_2} ... \\sum_{x_n = l_n}^{r_n}f(x_1, x_2, ... x_n)$ $mod 10^9 + 7$。 \r\n\n\r\n\n"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"### 样例输入1\r\n\r\n``` plain\r\n2 3\r\n1 1\r\n1 1\r\n```\r\n\r\n### 样例输出1\r\n\r\n``` plain\r\n4\r\n```\r\n\r\n### 样例1解释\r\n\r\n这个例子中，$x_1 = x_2 = 1$，答案即为 $f(1, 1)$。 \r\n\r\n分配方案有四种：\r\n\r\n- $a_1 = 0, a_2 = 3$： $1^0 * 1^3 = 1$。\r\n- $a_1 = 1, a_2 = 2$： $1^1 * 1^2 = 1$。\r\n- $a_1 = 2, a_2 = 1$： $1^2 * 1^1 = 1$。\r\n- $a_1 = 3, a_2 = 0$： $1^3 * 1^0 = 1$。\r\n\r\n所以 $f(1, 1) = 1 + 1 + 1 + 1 = 4$ 。\r\n\r\n### 样例输入2\r\n\r\n``` plain\r\n1 2\r\n1\r\n3\r\n```\r\n\r\n### 样例输出2\r\n\r\n``` plain\r\n14\r\n```\r\n\r\n### 样例2解释\r\n\r\n这个例子中，只有一个儿子， $x_i$ 从 $1$ ~ $3$ ，糖果 $2$ 个只能全部给它。\r\n\r\n答案为 $f(1) + f(2) + f(3)$。 \r\n\r\n其中 $f(1) = 1^2$，$f(2) = 2^2$，$f(3) = 3^2$，所以答案是 $1 + 4 + 9 = 14$。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"| part   | $n$               | $c$               | $l_i$,$r_i$                 |\r\n\n| ------ | ----------------- | ----------------- | --------------------------- |\r\n\n| $20\\%$ | $1 \\le n \\le 2$   |                   | $l_i = r_i$                 |\r\n\n| $50\\%$ |                   |                   | $l_i = r_i$                 |\r\n\n| $all$  | $1 \\le n \\le 400$ | $1 \\le c \\le 400$ | $1 \\le l_i \\le r_i \\le 400$ |"}]}
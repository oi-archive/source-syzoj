{"title":"「长乐集训 2017 Day2」字符串匹配","time_limit":1000,"memory_limit":256,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/5005#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=5005","statistics":"https://oj.iqzsy.xyz/problem/5005/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/5005/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/5005"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"对于一个字符集大小为 $ C $ 的字符串 $ P $ 我们可以将任意两种字符在 $ P $ 中的位置进行互换，例如 $ P = \\texttt{abcba} $，我们交换 $ \\texttt{a, b} $ 就变为 $ \\texttt{bacab} $，交换 $ \\texttt{a, d} $ 就变为 $ \\texttt{dbcbd} $，交换可以进行任意次。若交换后 $ P $ 变为字符串 $ Q $，我们称 $ P, Q $ 是匹配的。\r\n\n\r\n\n现在给定两个字符集大小为 $ C $ 的字符串 $ S, T $ 请你求出 $ S $ 中有多少个连续子串与 $ T $ 是匹配的。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数 $ \\texttt{Case}, C $ 表示数据组数和字符集大小，字符用 $ 1 \\sim C $ 的整数表示。\r\n\n\r\n\n每组数据第一行两个整数 $ n, m $ 表示 $ S $ 的长度与 $ T $ 的长度。\r\n\n\r\n\n第二行 $ n $ 个正整数表示字符串 $ S $。\r\n\n\r\n\n第三行 $ m $ 个正整数表示字符串 $ T $。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每组数据输出两行。\r\n\n\r\n\n第一行一个整数 $ \\texttt{ans} $，表示 $ S $ 中有多少个连续子串与 $ T $ 是匹配的。\r\n\n\r\n\n第二行从小到大输出 $ \\texttt{ans} $ 个整数，表示 $ S $ 中与 $ T $ 匹配的子串的首位置 (从 $ 1 $ 开始编号)。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n3 3\r\n6 3\r\n1 2 1 2 3 2\r\n3 1 3\r\n6 3\r\n1 2 1 2 1 2\r\n3 1 3\r\n6 3\r\n1 1 2 1 2 1\r\n3 1 3\r\n```\r\n\r\n####  样例输出\r\n```plain\r\n3\r\n1 2 4\r\n4\r\n1 2 3 4\r\n3\r\n2 3 4\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$ 10 \\% $ 的数据，$ n, m, C \\leq 1000 $  \r\n\n另有 $ 20 \\% $ 的数据，$ n, m \\leq 10 ^ 5, C \\leq 40 $  \r\n\n另有 $ 30 \\% $ 的数据，$ n, m, C \\leq 10 ^ 5 $  \r\n\n$ 100 \\% $ 的数据，$ 1 \\leq n, m, C \\leq 10 ^ 6, \\texttt{Case} = 3 $"}]}
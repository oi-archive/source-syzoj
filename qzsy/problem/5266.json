{"title":"出纳员zgg","time_limit":1000,"memory_limit":256,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/5266#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=5266","statistics":"https://oj.iqzsy.xyz/problem/5266/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/5266/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/5266"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"zgg去当出纳员了！zgg所在的公司的工资是按年发放的。在每年的元旦，每个员工的工资额会被修改为0元；在每年的除夕，员工按工资额领取相应的工资。zgg的上司是一位和蔼可亲的老爷爷，他经常给员工们提升工资。而zgg的工作，就是帮助所有员工统计最后的工资额。\r\n老爷爷只会用以下两种指令给员工们提升工资：1.让某个员工的工资额提升X元；2.让所有员工的工资额变成原来的X倍。\r\n然则，由于老爷爷实在是太和蔼了，以至于提升工资的指令数目达到了10^10级别，这无疑使zgg的工作变得困难重重。\r\n还好，老爷爷的指令最多只有N种。为了提高工作效率，zgg又定义了一些宏指令：某个宏指令包括2个分指令（可以是宏指令或基本指令），执行宏指令相当于先后执行这两个分指令。\r\n许多年后，zgg发现，这些指令构成了一棵二叉树：如果把宏指令当成某个结点，那么两个分指令则相当于该结点的左右儿子，而叶子结点就是那些基本指令。\r\n现在，除夕即将来临，zgg却发现自己的工作一点都没有完成！还好，所有的指令都按顺序记录下来了。为了自己的工资，zgg想请你帮忙，统计出所有人的工资。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行三个正整数N,M,Q,分别表示基本指令的种类数目、所有指令的数目、员工数目。\r\n接下来N行，第i+1行代表第i种指令（基本指令），有两种类型：\r\n1.每行3个整数1 X Y：表示让X号员工的工资额提升Y元；\r\n2.每行2个整数2 X：表示让所有员工的工资额变为原来的X倍。\r\n接下来N-1行，第i+N+1行代表第i+N种指令（宏指令），每行2个正整数A B，表示第i+N种指令的分指令。\r\n接下来M行，每行一个正整数A，表示执行A指令。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"共Q行，每行一个整数Ansi,表示第i号员工最后的工资。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"【样例输入】\r\n```\r\n4 5 2\r\n1 2 3\r\n1 1 1\r\n2 2\r\n1 1 10\r\n6 7\r\n2 1\r\n3 4\r\n2\r\n6\r\n7\r\n5\r\n3\r\n```\r\n【样例输出】\r\n```\r\n80\r\n36\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"有50%的数据平均分布在测试点中,满足：基本指令均为第1种指令。\r\n30%的数据满足N<=200,M<=200,Q<=100；\r\n60%的数据满足N<=10000,M<=20000,Q<=100；\r\n100%的数据满足N,M,Q<=100000，所有员工任何时候的工资额都不会超过10^9元。\r\n第一种指令1 X Y满足1<=X<=Q,0<=Y<=100；\r\n第二种指令2 X满足0<=X<=10。\r\n"}]}
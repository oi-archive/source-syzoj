{"title":"「2018-10-14普及模拟赛」Hash 键值 (hash)","time_limit":1000,"memory_limit":128,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/1039#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=1039","statistics":"https://oj.iqzsy.xyz/problem/1039/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/1039/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/1039"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"> <font face = \"华文行楷\"> 所有的苦难与背负尽头，  \r\n都是行云流水般的此世光阴。  \r\n一生所渴求的，全都伤人至深。   \r\n而一生所憎恶的，全都令人魂牵梦萦。</font>\r\n\r\n[<strong><font color = \"purple\">Marser</font></strong>](http://218.5.5.242:9021/user/520) 沉迷 $\\text{hash}$ 无法自拔，然而他发现自己记不住 $\\text{hash}$ 键值了……\r\n\r\n[<strong><font color = \"purple\">Marser</font></strong>](http://218.5.5.242:9021/user/520) 使用的 $\\text{hash}$ 函数是一个单纯的取模运算，每一个数 $i$ 被对应到 $i\\ \\text{mod}\\ p$。他现在有一个数列 $a_1, a_2, \\dots, a_n$，他采用这种方法，把每一个数 $a_i$ 对应到一个键值 $i\\ \\text{mod}\\ p$。他想知道对于给定的模数 $p$ 和键值 $r$，所有对应到该键值的数的和为多少。同时，[<strong><font color = \"purple\">Marser</font></strong>](http://218.5.5.242:9021/user/520) 可能会发现他的数列出了一些问题，所以他还想随时更改数列中任意一项的值。\r\n\r\n现在 [<strong><font color = \"purple\">Marser</font></strong>](http://218.5.5.242:9021/user/520) 有 $q$ 个请求，每个请求可能是修改或是询问。对于每一个询问，你需要给出正确的答案。如果你不能在 $1\\text{s}$ 内正确回答所有询问，[<strong><font color = \"purple\">Marser</font></strong>](http://218.5.5.242:9021/user/520) 就会让 [<strong><font color = \"blue\">hotwords</font></strong>](http://218.5.5.242:9021/user/408) 把你给续了。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"从文件 `hash.in` 读入。\r\n\r\n第一行两个整数 $n$，$q$，表示数列长度和请求数量。  \r\n第二行 $n$ 个整数，表示初始的序列。  \r\n接下来 $q$ 行，每行三个整数 $opt$，$x$，$y$；\r\n\r\n若 $opt=1$，则询问在 $\\text{mod}\\ x$ 时，所有对应到键值 $y$ 的数的和。  \r\n若 $opt=2$，则将数列第 $x$ 项修改为 $y$。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出到文件 `hash.out` 中。\r\n\r\n对于每个询问，输出相应的答案。\r\n"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"### 样例输入 1\r\n\r\n```plain\r\n10 5\r\n1 2 3 4 5 6 7 8 9 10\r\n1 2 1\r\n2 1 20\r\n1 3 1\r\n2 5 1\r\n1 5 0\r\n```\r\n\r\n### 样例输出 1\r\n\r\n```plain\r\n25\r\n41\r\n11\r\n```\r\n\r\n### 样例 2\r\n\r\n见下发文件中的 `hash2.in` 及 `hash2.ans`。\r\n\r\n该样例满足子任务二的性质。\r\n\r\n### 样例 3\r\n\r\n见下发文件中的 `hash3.in` 及 `hash3.ans`。\r\n\r\n该样例满足子任务三的性质。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"本题采用子任务制，子任务分值如下：\r\n\r\n** *Subtask* #1 *(30 points)* : $n, q \\le 1000$**   \r\n** *Subtask* #2 *(20 points)* : 对于所有 $n, q > 1000$ 的测试点，所有询问中的模数都相等。**   \r\n** *Subtask* #3 *(50 points)* : 无特殊限制。**  \r\n\r\n**对于 $100\\%$ 的数据，保证 $n, q \\le 10^5$，输出的所有数据在 int 范围内。**\r\n"}]}
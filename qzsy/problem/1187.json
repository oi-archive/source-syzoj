{"title":"[动态规划]周年纪念晚会","time_limit":1000,"memory_limit":256,"tags":[],"operation":{"submit":"https://oj.iqzsy.xyz/problem/1187#submit_code","submissions":"https://oj.iqzsy.xyz/submissions?problem_id=1187","statistics":"https://oj.iqzsy.xyz/problem/1187/statistics/fastest","testdata":"https://oj.iqzsy.xyz/problem/1187/testdata","discussion":"https://oj.iqzsy.xyz/discussion/problem/1187"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"Ural 州立大学的校长正在筹备学校的80周年纪念聚会。由于学校的职员有不同的职务级别，可以构成一棵以校长为根的人事关系树。每个资源都有一个唯一的整数编号，从 1到n编号，且对应一个参加聚会所获得的欢乐度。为使每个职员都感到快乐，校长设法使每个职员和其直接上司不会同时参加聚会。\r\n\r\n你的任务是设计一份参加聚会者的名单，使总欢乐度最高。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行是一个整数n；\r\n\r\n接下来n行对应n个职员的欢乐度，第i行的一个整数为第i个职员的欢乐度pi；\r\n\r\n接着是学校的人事关系树，每一行格式为 L K ，表示第k个职员是第l个职员的直接上司，输入以 0 0 结束。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出参加聚会者获得的最大欢乐度。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"样例输入\r\n```\r\n7\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1 3\r\n2 3\r\n6 4\r\n7 4\r\n4 5\r\n3 5\r\n0 0\r\n```\r\n样例输出\r\n```\r\n5\r\n```\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于100%的数据，1=<n<=6000,-128=<pi<=127。"}]}
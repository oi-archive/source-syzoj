{"title":"[CSP模拟]话痨树","time_limit":1000,"memory_limit":512,"tags":["前缀和","最近公共祖先"],"operation":{"submit":"https://syzoj.com/problem/644#submit_code","submissions":"https://syzoj.com/submissions?problem_id=644","statistics":"https://syzoj.com/problem/644/statistics/fastest","testdata":"https://syzoj.com/problem/644/testdata","discussion":"https://syzoj.com/discussion/problem/644"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"在虚拟世界里有一种计算工具，叫做话痨树。\r\n\r\n这种工具可以计算出小X所在国家任意两个城市的距离。\r\n\r\n但话痨树太吵了，小X非常讨厌它，所以请穿越到异世界的你写一个工具实现话痨树的功能。这样小X就不用听话痨树唠叨了。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数n和q，代表小X国家有n个城市，他想进行q次询问。\r\n\r\n接下来n-1行每行三个整数u，v，k，代表城市u与城市v之间有一条双向道路，道路长度为k。\r\n\r\n接下来q行，每行两个整数u，v，代表小X想知道u与v城市之间的距离。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"q行，每行是u与v城市之间的距离"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"**input**\r\n```\r\n3 2\r\n1 2 10\r\n3 1 15\r\n1 2\r\n2 3\r\n```\r\n**output**\r\n```\r\n10\r\n25\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于30%的数据，2<=n<=2000,1<=m<=2000\r\n\r\n对于全部数据，2<=n<=10000,1<=q<=20000,1<=k<=500,m=n-1"}]}
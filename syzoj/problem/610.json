{"title":"「CTSC 1997」选课","time_limit":1000,"memory_limit":512,"tags":[],"operation":{"submit":"https://syzoj.com/problem/610#submit_code","submissions":"https://syzoj.com/submissions?problem_id=610","statistics":"https://syzoj.com/problem/610/statistics/fastest","testdata":"https://syzoj.com/problem/610/testdata","discussion":"https://syzoj.com/discussion/problem/610"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"大学实行学分制。每门课程都有一定的学分，学生只要选修了这门课并通过考核就能获得相应学分。学生最后的学分是他选修各门课的学分总和。\r\n\r\n每个学生都要选择规定数量的课程。有些课程可以直接选修，有些课程需要一定的基础知识，必须在选了其他的一些课程基础上才能选修。例如《数据结构》必须在选修了《高级语言程序设计》后才能选修。我们称《高级语言程序设计》是《数据结构》的先修课。每门课的直接先修课最多只有一门。两门课也可能存在相同的先修课。为便于表述，每门课都有一个课号，课号依次为 $1,2,3,\\cdots$。\r\n\r\n下面举例说明：\r\n\r\n|课号 | 先修课号 | 学分 | \r\n|:-: |:-: |:-:| \r\n| $1$ | 无 |$1$ | \r\n| $2$| $1$ |$1$ | \r\n|$3$ | $2$ |$3$|\r\n|$4$ | 无 |$3$|\r\n|$5$ | $2$ |$4$|\r\n\r\n上例中课号 $1$ 是课号 $2$ 的先修课，即如果要先修课号 $2$，则课号 $1$ 必定已被选过。同样，如果要选修课号 $3$ ，那么课号 $1$ 和 课号 $2$ 都一定被选修过。\r\n\r\n学生不可能学完大学开设的所有课程，因此必须在入学时选定自己要学的课程。每个学生可选课程的总数是给定的。请找出一种选课方案使得你能得到的学分最多，并满足先修课优先的原则。假定课程间不存在时间上的冲突。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入的第一行包括两个正整数 $M,N$，分别表示待选课程数和可选课程数。\r\n\r\n接下来 $M$ 行每行描述一门课，课号依次为 $1,2,\\cdots ,M$。每行两个数，依次表示这门课先修课课号（若不存在，则该项值为 $0$）和该门课的学分。\r\n\r\n各相邻数值间以空格隔开。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行，表示实际所选课程学分之和。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n7 4\r\n2 2\r\n0 1\r\n0 4\r\n2 1\r\n7 1\r\n7 6 \r\n2 2\r\n```\r\n#### 样例输出\r\n```plain\r\n13\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1\\le N \\le M \\le 100$，学分不超过 $20$。"}]}
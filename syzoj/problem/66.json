{"title":"动态排名系统","time_limit":5000,"memory_limit":512,"tags":[],"operation":{"submit":"https://syzoj.com/problem/66#submit_code","submissions":"https://syzoj.com/submissions?problem_id=66","statistics":"https://syzoj.com/problem/66/statistics/fastest","testdata":"https://syzoj.com/problem/66/testdata","discussion":"https://syzoj.com/discussion/problem/66"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"给定一个长度为N的已知序列A[i](1<=i<=N)，要求维护这个序列，能够支持以下两种操作：\r\n\r\n1、查询A[i],A[i+1],A[i+2],...,A[j](1<=i<=j<=N)中，升序排列后排名第k的数。\r\n\r\n2、修改A[i]的值为j。\r\n\r\n所谓排名第k，指一些数按照升序排列后，第k位的数。例如序列{6,1,9,6,6}，排名第3的数是6，排名第5的数是9。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含一个整数D(0<=D<=4)，表示测试数据的数目。接下来有D组测试数据，每组测试数据中，首先是两个整数N(1<=N<=50000),M(1<=M<=10000)，表示序列的长度为N，有M个操作。接下来的N个不大于1,000,000,000正整数，第i个表示序列A[i]的初始值。然后的M行，每行为一个操作\r\n\r\nQ i j k 或者\r\n\r\nC i j\r\n\r\n分别表示查询A[i],A[i+1],A[i+2],...,A[j](1<=i<=j<=N)中，升序排列后排名第k的数，和修改A[i]的值为j。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每个查询，输出一行整数，为查询的结果。测试数据之间不应有空行。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#input\r\n```\r\n2\r\n5 3\r\n3 2 1 4 7\r\nQ 1 4 3\r\nC 2 6\r\nQ 2 5 3\r\n5 3\r\n3 2 1 4 7\r\nQ 1 4 3\r\nC 2 6\r\nQ 2 5 3\r\n```\r\n\r\n#output\r\n```\r\n3\r\n6\r\n3\r\n6\r\n```"}]}
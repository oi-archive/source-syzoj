{"title":"最优乘车","time_limit":1000,"memory_limit":256,"tags":["最短路"],"operation":{"submit":"https://syzoj.com/problem/802#submit_code","submissions":"https://syzoj.com/submissions?problem_id=802","statistics":"https://syzoj.com/problem/802/statistics/fastest","testdata":"https://syzoj.com/problem/802/testdata","discussion":"https://syzoj.com/discussion/problem/802"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"H城是一个旅游胜地，每年都有成千上万的人前来观光。为方便游客，巴士公司在各个旅游景点及宾馆、饭店等地都设置了巴士站并开通了一些单程巴士线路。每条单程巴士线路从某个巴士站出发，依次途经若干个巴士站，最终到达终点巴士站。\r\n\r\n一名旅客最近到H城旅游，他很想去S公园游玩，但如果从他所在的饭店没有一路巴士可以直接到达S公园，则他可能要先乘某一路巴士坐几站，再下来换乘同一站台的另一路巴士, 这样换乘几次后到达S公园。\r\n\r\n现在用整数 $1,2,\\dots N$ 给H城的所有的巴士站编号，约定这名旅客所在饭店的巴士站编号为 $1$ ，S公园巴士站的编号为 $N$ 。\r\n\r\n写一个程序，帮助这名旅客寻找一个最优乘车方案,使他在从饭店乘车到S公园的过程中换车的次数最少。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入的第一行有两个数字 $M$ 和 $N$，表示开通了 $M$ 条单程巴士线路，总共有 $N$ 个车站。\r\n\r\n从第二行到第 $M$ 行依次给出了第1条到第 $M$ 条巴士线路的信息。其中第 $i+1$ 行给出的是第 $i$ 条巴士线路的信息，从左至右按运行顺序依次给出了该线路上的所有站号，相邻两个站号之间用一个空格隔开。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出只有一行：如果无法乘巴士从饭店到达S公园，则输出\"NO\"，否则输出你的程序所找到的最少换车次数，换车次数为0表示不需换车即可到达。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n3 7\r\n6 7\r\n4 7 3 6\r\n2 1 3 5\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n2\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1\\le M\\le 100$\r\n\r\n$1<N\\le 500$"}]}
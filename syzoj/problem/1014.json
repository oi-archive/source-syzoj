{"title":"[HAOI2011] 防线修建","time_limit":1000,"memory_limit":128,"tags":[],"operation":{"submit":"https://syzoj.com/problem/1014#submit_code","submissions":"https://syzoj.com/submissions?problem_id=1014","statistics":"https://syzoj.com/problem/1014/statistics/fastest","testdata":"https://syzoj.com/problem/1014/testdata","discussion":"https://syzoj.com/discussion/problem/1014"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"　　近来A国和B国的矛盾激化，为了预防不测，A国准备修建一条长长的防线，当然修建防线的话，肯定要把需要保护的城市修在防线内部了。可是A国上层现在还犹豫不决，到底该把哪些城市作为保护对象呢？又由于A国的经费有限，所以希望你能帮忙完成如下的一个任务：  \r\n1.给出你所有的A国城市坐标  \r\n2.A国上层经过讨论，考虑到经济问题，决定取消对i城市的保护，也就是说i城市不需要在防线内了  \r\n3.A国上层询问对于剩下要保护的城市，修建防线的总经费最少是多少  \r\n\r\n　　你需要对每次询问作出回答。注意单位1长度的防线花费为1。\r\n\r\n　　A国的地形是这样的，形如下图，x轴是一条河流，相当于一条天然防线，不需要你再修建  \r\n　　A国总是有两个城市在河边，一个点是(0,0)，一个点是(n,0)，其余所有点的横坐标均大于0小于n，纵坐标均大于0。A国有一个不在(0,0)和(n,0)的首都。(0,0),(n,0)和首都这三个城市是一定需要保护的。  \r\n![](http://cojs.tk/images/2.png)\r\n```\r\n//为防止图片坏掉，这里放出省流量版 ( 滑稽\r\n  y\r\n6↑\r\n5|\r\n4|\r\n3|\r\n2|\r\n1|\r\n0|--------------------------->x\r\n  0  1  2  3  4  5  6  7  8  9\r\n```\r\n　　上图中，A,B,C,D,E点为A国城市，且目前都要保护，那么修建的防线就会是A-B-C-D，花费也就是线段AB的长度+线段BC的长度+线段CD的长度  \r\n　　如果，这个时候撤销B点的保护，那么防线变成下图（如果图坏了请自行脑补）  \r\n![](http://cojs.tk/images/3.png)\r\n\r\n\r\n####题目描述简单版:  \r\n　　维护一个图形，每次分为删除和询问两个操作，删除操作要求除了被删除点和之前删除过的点，剩余的所有点必须在图形内，每次询问需要输出图形的周长。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行，三个整数n,x,y分别表示河边城市和首都是(0,0)，(n,0)，(x,y)。\r\n第二行，一个整数m。\r\n接下来m行，每行两个整数a,b表示A国的一个非首都非河边城市的坐标为(a,b)。\r\n再接下来一个整数q，表示修改和询问总数。\r\n接下来q行每行要么形如1 i，要么为2，分别表示撤销第i个城市的保护和询问。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每个询问输出1行，一个实数v，表示修建防线的花费，保留两位小数"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"####样例输入：\r\n```\r\n4 2 1\r\n2\r\n1 2\r\n3 2\r\n5\r\n2\r\n1 1\r\n2\r\n1 2\r\n2\r\n```\r\n\r\n####样例输出：\r\n```\r\n6.47\r\n5.84\r\n4.47\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"数据范围：  \r\n20%的数据m <= 50, q <= 15  \r\n40%的数据m <= 100, q <= 100  \r\n60%的数据m <= 1000, q<=1000  \r\n100%的数据m <= 100000, q <= 200000, n > 1  \r\n所有点的坐标范围均在10000以内, 数据保证没有重点"}]}
{"title":"格子游戏","time_limit":1000,"memory_limit":128,"tags":[],"operation":{"submit":"https://syzoj.com/problem/293#submit_code","submissions":"https://syzoj.com/submissions?problem_id=293","statistics":"https://syzoj.com/problem/293/statistics/fastest","testdata":"https://syzoj.com/problem/293/testdata","discussion":"https://syzoj.com/discussion/problem/293"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":" Alice 和 Bob玩了一个古老的游戏：首先画一个 $n \\cdot n$ 的点阵（下图 $n = 3$ ）。接着，他们两个轮流在相邻的点之间画上红边和蓝边，直到围成一个封闭的圈（面积不必为 $1$ ）为止，“封圈”的那个人就是赢家。因为棋盘实在是太大了( $n <= 200$ )，他们的游戏实在是太长了！他们甚至在游戏中都不知道谁赢得了游戏。于是请你写一个程序，帮助他们计算他们是否结束了游戏？ \r\n\r\n![](http://218.28.19.228/upload/image/20170314/20170314192407_73412.jpg)\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入数据第一行为两个整数 $n$ 和 $m$ 。$m$ 表示一共画了 $m$ 条线。以后 $m$ 行，每行首先有两个数字 $(x, y)$ ，代表了画线的起点坐标，接着用空格隔开一个字符，假如字符是 `D ` ，则是向下连一条边，如果是 `R ` 就是向右连一条边。输入数据不会有重复的边且保证正确"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"- 输出一行：在第几步的时候结束。假如 $m$ 步之后也没有结束，则输出一行 `draw` 。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"##I## nput:\r\n```\r\n3 5\r\n1 1 D\r\n1 1 R\r\n1 2 D\r\n2 1 R\r\n2 2 D\r\n```\r\n#### Output:\r\n```\r\n4\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"-  $n \\le 200$\r\n- 二维的并查集"}]}
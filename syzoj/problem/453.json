{"title":"[NOIP2018模拟赛] 小P的太空旅行","time_limit":1000,"memory_limit":512,"tags":[],"operation":{"submit":"https://syzoj.com/problem/453#submit_code","submissions":"https://syzoj.com/submissions?problem_id=453","statistics":"https://syzoj.com/problem/453/statistics/fastest","testdata":"https://syzoj.com/problem/453/testdata","discussion":"https://syzoj.com/discussion/problem/453"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"今年是8102年，小P去M870星球旅行了。M870星球景色优美，食物非常美味，所以全宇宙的人都爱去M870星球旅行。\r\n\r\n这些来旅行的游客可以看作一排，来自不同星球的旅客的识别码是不同的，识别码是由1到k的，不同识别码表示不同星球的旅客。\r\n\r\n小P想要知道，在一个区间里有多少种出现次数恰好为T次的旅客。\r\n\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行四个整数n，m，k，T（1<=n,m,k,T<=5*10^5）。\r\n\r\n第二行n个整数，第i个整数为a[i]，表示对应旅客的种族(1<=a[i]<=k)。\r\n\r\n接下来m行，每行两个整数l[i]和r[i],表示询问的区间(1<=l[i]<=r[i]<=n)。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出m行，每行一个整数，第i行表示第i次询问的答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"**input**\r\n```\r\n10 5 5 1\r\n1 5 3 4 2 4 1 2 3 5 \r\n1 10\r\n3 6 \r\n2 8\r\n5 7\r\n6 10\r\n```\r\n\r\n**output**\r\n```\r\n0\r\n2\r\n3\r\n3\r\n5\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于30%的数据 n,m,k<=2000,T<=n.\r\n\r\n对于另外40%的数据 T=1，1<=n,m,k<=5*10^5.\r\n\r\n对于所有数据，1<=n,m,k,T<=5*10^5，1<=a[i]<=k,1<=l[i]<=r[i]<=n.\r\n\r\n注意：本题输入量较大，请使用较为快速的读入方式。"}]}
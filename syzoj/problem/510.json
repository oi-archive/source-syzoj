{"title":"[线段树]模板题2","time_limit":3500,"memory_limit":256,"tags":["模板","线段树","差分"],"operation":{"submit":"https://syzoj.com/problem/510#submit_code","submissions":"https://syzoj.com/submissions?problem_id=510","statistics":"https://syzoj.com/problem/510/statistics/fastest","testdata":"https://syzoj.com/problem/510/testdata","discussion":"https://syzoj.com/discussion/problem/510"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"这是一道模板题。\r\n\r\n给定数列 $a[1], a[2], \\dots, a[n]$，你需要依次进行 $q$ 个操作，操作有两类：\r\n\r\n* `1 l r x`：给定 $l,r,x$，对于所有 $i\\in[l,r]$，将 $a[i]$ 加上 $x$（换言之，将 $a[l], a[l+1], \\dots, a[r]$ 分别加上 $x$）；\r\n* `2 l r`：给定 $l,r$，求 $\\sum_{i=l}^ra[i]$ 的值（换言之，求 $a[l]+a[l+1]+\\dots+a[r]$ 的值）。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含 $2$ 个正整数 $n,q$，表示数列长度和询问个数。保证 $1\\le n,q\\le 10^6$。  \r\n第二行 $n$ 个整数 $a[1],a[2],\\dots,a[n]$，表示初始数列。保证 $|a[i]|\\le 10^6$。  \r\n接下来 $q$ 行，每行一个操作，为以下两种之一：\r\n\r\n* `1 l r x`：对于所有 $i\\in[l,r]$，将 $a[i]$ 加上 $x$；\r\n* `2 l r`：输出 $\\sum_{i=l}^ra[i]$ 的值。\r\n\r\n保证 $1\\le l\\le r\\le n, $ $|x|\\le 10^6$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每个 `2 l r` 操作，输出一行，每行有一个整数，表示所求的结果。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n\r\n```plain\r\n5 10\r\n2 6 6 1 1\r\n2 1 4\r\n1 2 5 10\r\n2 1 3\r\n2 2 3\r\n1 2 2 8\r\n1 2 3 7\r\n1 4 4 10\r\n2 1 2\r\n1 4 5 6\r\n2 3 4\r\n\r\n```\r\n\r\n#### 样例输出\r\n\r\n```plain\r\n15\r\n34\r\n32\r\n33\r\n50\r\n\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$1\\le n,q\\le 10^6, $ $|a[i]|\\le 10^6$, $1\\le l\\le r\\le n,$ $|x|\\le 10^6$。"}]}
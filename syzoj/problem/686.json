{"title":"「是男人就过8题——Pony.ai」EquationsAndInequations","time_limit":1000,"memory_limit":512,"tags":[],"operation":{"submit":"https://syzoj.com/problem/686#submit_code","submissions":"https://syzoj.com/submissions?problem_id=686","statistics":"https://syzoj.com/problem/686/statistics/fastest","testdata":"https://syzoj.com/problem/686/testdata","discussion":"https://syzoj.com/discussion/problem/686"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"给定一个方程 $\\sum_{i=1}^{k} x_i = s$, 以及 $m$ 个形如 $x_i = x_j$, $x_i \\le x_j$, $x_i \\ge x_j$, $x_i \\neq x_j$, $x_i < x_j$, 或 $x_i > x_j$ 的不等式。\r\n\r\n计数该方程满足所有不等式的正整数解的个数。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入包含多组测试数据\r\n\r\n每一组数据的第一行包含三个整数 $s, k, m$。\r\n\r\n以下 $m$ 行以 `i op j` 的形式给出不等关系，其中 `op` 是 `=`，`!=`, `<=`，`>=`，`<`，`>` 中的一个。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对每一组输入数据输出一行一个数，表示方程解数对 $10^9+7$ 取模的结果"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n3 2 1\r\n1 != 2\r\n3 2 1\r\n1 = 2\r\n50 6 5\r\n1 < 2\r\n1 != 3\r\n3 <= 2\r\n2 = 4\r\n5 >= 6\r\n1000000000 8 12\r\n8 >= 8\r\n2 >= 6\r\n6 != 2\r\n4 = 4\r\n2 < 7\r\n4 <= 1\r\n4 <= 5\r\n1 >= 1\r\n6 <= 1\r\n7 >= 6\r\n8 < 4\r\n4 <= 2\r\n```\r\n#### 样例输出\r\n```plain\r\n2\r\n0\r\n7700\r\n396619262\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据， $1 \\leq k \\leq 12$, $1 \\leq s \\leq 10^9$, $1 \\leq m \\leq 100$ 。\r\n\r\n数组组数小于 $1500$, 对于 $95\\%$ 的测试数据 $k\\le 7$ 。"}]}
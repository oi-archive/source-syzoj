{"title":"「一本通 5.2 练习 3」周年纪念晚会","time_limit":1000,"memory_limit":512,"tags":[],"operation":{"submit":"https://syzoj.com/problem/357#submit_code","submissions":"https://syzoj.com/submissions?problem_id=357","statistics":"https://syzoj.com/problem/357/statistics/fastest","testdata":"https://syzoj.com/problem/357/testdata","discussion":"https://syzoj.com/discussion/problem/357"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"Ural 州立大学的校长正在筹备学校的 $80$ 周年纪念聚会。由于学校的职员有不同的职务级别，可以构成一棵以校长为根的人事关系树。每个资源都有一个唯一的整数编号，从 $1$ 到 $N$ 编号，且对应一个参加聚会所获得的欢乐度。为使每个职员都感到快乐，校长设法使每个职员和其直接上司不会同时参加聚会。\r\n\r\n你的任务是设计一份参加聚会者的名单，使总欢乐度最高。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行是一个整数 $N$；\r\n\r\n接下来 $N$ 行对应 $N$ 个职员的欢乐度，第 $i$ 行的一个整数为第 $i$ 个职员的欢乐度 $p_i$；\r\n\r\n接着是学校的人事关系树，每一行格式为 `L K` ，表示第 $K$ 个职员是第 $L$ 个职员的直接上司，输入以 `0 0` 结束。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出参加聚会者获得的最大欢乐度。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n7\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1 3\r\n2 3\r\n6 4\r\n7 4\r\n4 5\r\n3 5\r\n0 0\r\n```\r\n#### 样例输出\r\n```plain\r\n5\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据，$1\\le N \\le 6000, -128 \\le p_i \\le 127$。"}]}
{"title":"队列安排","time_limit":1000,"memory_limit":512,"tags":[],"operation":{"submit":"https://syzoj.com/problem/620#submit_code","submissions":"https://syzoj.com/submissions?problem_id=620","statistics":"https://syzoj.com/problem/620/statistics/fastest","testdata":"https://syzoj.com/problem/620/testdata","discussion":"https://syzoj.com/discussion/problem/620"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"一个学校里老师要将班上N个同学排成一列，同学被编号为1~N，他采取如下的方法：\r\n\r\n先将1号同学安排进队列，这时队列中只有他一个人；\r\n\r\n2−N号同学依次入列，编号为i的同学入列方式为：老师指定编号为i的同学站在编号为1∼(i−1)中某位同学（即之前已经入列的同学）的左边或右边；\r\n\r\n从队列中去掉M(M<N)个同学，其他同学位置顺序不变。\r\n\r\n在所有同学按照上述方法队列排列完毕后，老师想知道从左到右所有同学的编号。\r\n滑动窗口"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第1行为一个正整数N，表示了有N个同学。\r\n\r\n第2-N行，第i行包含两个整数k,p，其中k为小于i的正整数，p为0或者1。若p为0，则表示将i号同学插入到k号同学的左边，p为1则表示插入到右边。\r\n\r\n第N+1行为一个正整数M，表示去掉的同学数目。\r\n\r\n接下来M行，每行一个正整数x，表示将x号同学从队列中移去，如果x号同学已经不在队列中则忽略这一条指令。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"1行，包含最多N个空格隔开的正整数，表示了队列从左到右所有同学的编号，行末换行且无空格。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 \r\n```\r\n4 \r\n1 0 \r\n2 1 \r\n1 0 \r\n2 \r\n3 \r\n3 \r\n```\r\n#### 样例输出 \r\n```\r\n2 4 1 \r\n\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于20%的数据，有N≤10； \r\n  \r\n对于40%的数据，有N≤1000； \r\n  \r\n对于100%的数据，有N,M≤100000。 \r\n"}]}
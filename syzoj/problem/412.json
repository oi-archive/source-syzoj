{"title":"小明的最短路","time_limit":1000,"memory_limit":256,"tags":[],"operation":{"submit":"https://syzoj.com/problem/412#submit_code","submissions":"https://syzoj.com/submissions?problem_id=412","statistics":"https://syzoj.com/problem/412/statistics/fastest","testdata":"https://syzoj.com/problem/412/testdata","discussion":"https://syzoj.com/discussion/problem/412"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"小明面对一个共 $n$ 个节点的无向图图，节点编号从 $1$ 到 $n$。这个图每个点和边都有正权值。\r\n\r\n对于 $s$ 到 $t$ 的一条路径的花费小明重新定义为：这条路径上所有点权的最大值（包括 $s$ 和 $t$），乘以这条路径上所有边权的最**大**值。\r\n\r\n现在小明想知道所有**两两不同的点**之间最短路，异或起来是多少？$(a, b)$ 于 $(b, a)$ 视作做同一对点，所以只算一次！（总共应该有 $\\frac{(n-1)\\times(n-2)}{2}$ 对点。）"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数 $n, m$，表示点的数量和边的数量。\r\n\r\n接下来一行 $n$ 个正整数 $v_1, \\ldots, v_n$，表示每个点的权值。\r\n\r\n接下来 $m$ 行每行三个整数 $a, b, w$，表示有一条 $a$ 到 $b$ 的无向边权值为 $w$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一行一个整数答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n4 3\r\n5 1 2 5\r\n1 2 3\r\n2 3 4\r\n3 4 5\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n10\r\n```\r\n\r\n#### 样例解释\r\n我们有\r\n\r\n$$\r\n\\begin{align*}\r\n    \\mathrm{dis}(1, 2) &= 15 \\\\\r\n    \\mathrm{dis}(1, 3) &= 20 \\\\\r\n    \\mathrm{dis}(1, 4) &= 25 \\\\\r\n    \\mathrm{dis}(2, 3) &= 8 \\\\\r\n    \\mathrm{dis}(2, 4) &= 25 \\\\\r\n    \\mathrm{dis}(3, 4) &= 25\r\n\\end{align*}\r\n$$\r\n\r\n将上面全部距离异或起来值为 $10$。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $30\\%$ 的数据，满足 $n \\le 20, 1\\le w_i, v_i \\le 10^9$。  \r\n对于 $100\\%$ 的数据，满足 $n \\le 300, 1\\le w_i, v_i \\le 10^9$。"}]}
{"title":"有线电视网","time_limit":1000,"memory_limit":512,"tags":[],"operation":{"submit":"https://syzoj.com/problem/682#submit_code","submissions":"https://syzoj.com/submissions?problem_id=682","statistics":"https://syzoj.com/problem/682/statistics/fastest","testdata":"https://syzoj.com/problem/682/testdata","discussion":"https://syzoj.com/discussion/problem/682"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"某收费有线电视网计划转播一场重要的足球比赛。他们的转播网和用户终端构成一棵树状结构，这棵树的根结点位于足球比赛的现场，树叶为各个用户终端，其他中转站\r\n\r\n为该树的内部节点。\r\n\r\n从转播站到转播站以及从转播站到所有用户终端的信号传输费用都是已知的，一场转播的总费用等于传输信号的费用总和。\r\n\r\n现在每个用户都准备了一笔费用想观看这场精彩的足球比赛，有线电视网有权决定给哪些用户提供信号而不给哪些用户提供信号。\r\n\r\n写一个程序找出一个方案使得有线电视网在不亏本的情况下使观看转播的用户尽可能多。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":" 输入文件的第一行包含两个用空格隔开的整数 $N$ 和 $M$ ,  $N$ 为整个有线电视网的结点总数， $M$ 为用户终端的数量。\r\n\r\n 第一个转播站即树的根结点编号为 $1$ ，其他的转播站编号为 $2$ 到 $N-M$ ，用户终端编号为 $N-M+1$ 到 $N$ 。\r\n\r\n 接下来的 $N-M$ 行每行表示—个转播站的数据，第 $i+1$行表示第 $i$ 个转播站的数据，其格式如下：\r\n\r\n $K$  $ A_{1}$  $C_{1}$  $A_{2}$  $C_{2}$  …  $A_{k}$  $C_{k}$\r\n\r\n$K$ 表示该转播站下接 $K$ 个结点(转播站或用户)，每个结点对应一对整数 $A$ 与 $C$ ， $A$ 表示结点编号， $C$ 表示从当前转播站传输信号到结点 $A$ 的费用。最后一行依次表示所有用户为观看比赛而准备支付的钱数。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出文件仅一行，包含一个整数，表示上述问题所要求的最大用户数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"**input**\r\n```\r\n5 3\r\n2 2 2 5 3\r\n2 3 2 4 3\r\n3 4 2\r\n```\r\n**output**\r\n```\r\n2\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$2≤N≤3000$ ，$1≤M≤N-1$"}]}
{"title":"[HAOI2010]软件安装","time_limit":1000,"memory_limit":128,"tags":[],"operation":{"submit":"https://syzoj.com/problem/304#submit_code","submissions":"https://syzoj.com/submissions?problem_id=304","statistics":"https://syzoj.com/problem/304/statistics/fastest","testdata":"https://syzoj.com/problem/304/testdata","discussion":"https://syzoj.com/discussion/problem/304"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"现在我们的手头有N个软件，对于一个软件i，它要占用Wi的磁盘空间，它的价值为Vi。我们希望从中选择一 些软件安装到一台磁盘容量为M计算机上，使得这些软件的价值尽可能大(即Vi的和最大)。\r\n\r\n但是现在有个问题：软件之间存在依赖关系，即软件i只有在安装了软件j(包括软件j的直接或间接依赖)的情况下才能正确工作(软件i依赖软件j)。幸运的 是，一个软件最多依赖另外一个软件。如果一个软件不能正常工作，那么它能够发挥的作用为0。\r\n\r\n我们现在知道了软件之间的依赖关系：软件i依赖软件Di。现在请你设计出一种方案，安装价值尽量大的软件。一个软件只能被安装一 次，如果一个软件没有依赖则Di=0，这时只要这个软件安装了，它就能正常工作。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"```\r\n第1行：N，M (0<=N<=100．0<=M<=500)\r\n第2行：W1，W2，…，Wi，…，Wn(0<=Wi<=M)\r\n第3行：V1，V2，…，Vi，…，Vn(0<=Vi<=1000)\r\n第4行：D1，D2，…，Di，…，Dn(0<=Di<=N，Di≠i)\r\n```"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一个整数，代表最大价值。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"####输入样例\r\n```\r\n3 10\r\n5 5 6\r\n2 3 4\r\n0 1 1\r\n```\r\n####输出样例\r\n```\r\n5\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"见输入格式"}]}
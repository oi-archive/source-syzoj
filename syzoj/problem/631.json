{"title":"「SCOI2011」糖果","time_limit":1000,"memory_limit":512,"tags":[],"operation":{"submit":"https://syzoj.com/problem/631#submit_code","submissions":"https://syzoj.com/submissions?problem_id=631","statistics":"https://syzoj.com/problem/631/statistics/fastest","testdata":"https://syzoj.com/problem/631/testdata","discussion":"https://syzoj.com/discussion/problem/631"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"幼儿园里有 $N$ 个小朋友， lxhgww 老师现在想要给这些小朋友们分配糖果，要求每个小朋友都要分到糖果。  \r\n但是小朋友们也有嫉妒心，总是会提出一些要求，比如小明不希望小红分到的糖果比他的多，于是在分配糖果的时候， lxhgww 需要满足小朋友们的 $K$ 个要求。  \r\n幼儿园的糖果总是有限的， lxhgww 想知道他至少需要准备多少个糖果，才能使得每个小朋友都能够分到糖果，并且满足小朋友们所有的要求。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入的第一行是两个整数 $N$ ， $K$ 。   \r\n接下来 $K$ 行，表示这些点需要满足的关系，每行 $3$ 个数字， $x$ ， $A$ ， $B$ 。   \r\n如果 $X=1$ ．表示第 $A$ 个小朋友分到的糖果必须和第 $B$ 个小朋友分到的糖果一样多。   \r\n如果 $X=2$ ，表示第 $A$ 个小朋友分到的糖果必须少于第 $B$ 个小朋友分到的糖果。   \r\n如果 $X=3$ ，表示第 $A$ 个小朋友分到的糖果必须不少于第 $B$ 个小朋友分到的糖果。   \r\n如果 $X=4$ ，表示第 $A$ 个小朋友分到的糖果必须多于第 $B$ 个小朋友分到的糖果。   \r\n如果 $X=5$ ，表示第 $A$ 个小朋友分到的糖果必须不多于第 $B$ 个小朋友分到的糖果。   "},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行，表示 lxhgww 老师至少需要准备的糖果数，如果不能满足小朋友们的所有要求，就输出 $-1$ 。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5 7\r\n1 1 2\r\n2 3 2\r\n4 4 1\r\n3 4 5\r\n5 4 5\r\n2 3 5\r\n4 5 1\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n11\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $30\\%$ 的数据，保证 $N<100$ 。      \r\n对于 $100\\%$ 的数据，保证 $N < 100000 , K \\le 100000 , 1 \\le X \\le 5 , 1 \\le A , B \\le N$ 。"}]}
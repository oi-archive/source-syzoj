{"title":"「一本通 5.1 练习 3」矩阵取数游戏","time_limit":1000,"memory_limit":512,"tags":[],"operation":{"submit":"https://syzoj.com/problem/356#submit_code","submissions":"https://syzoj.com/submissions?problem_id=356","statistics":"https://syzoj.com/problem/356/statistics/fastest","testdata":"https://syzoj.com/problem/356/testdata","discussion":"https://syzoj.com/discussion/problem/356"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**原题来自：NOIP 2007**\r\n\r\n帅帅经常和同学玩一个矩阵取数游戏：对于给定的 $n\\times m$ 的矩阵，矩阵中每个元素 $a_{ij}$ 均为非负整数。游戏规则如下：\r\n1. 每次取数时必须从每行各取走一个元素，共 $n$ 个，$m$ 次取完所有元素。\r\n2. 每次取走的各个元素只能是该元素所在行行首或行尾。\r\n3. 每次取数都有一个的分值，为每行取数得分之和，每行取数得分$=$被取走元素值$\\times 2^i$，其中 $i$ 表示第 $i$ 次取数，从 $1$ 开始计数。\r\n4. 游戏结束时，总得分为 $m$ 次取数得分之和。\r\n\r\n帅帅想让你帮忙写一个程序，对于任意矩阵，可以求出取数后的最大得分。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入包括 $n+1$ 行。\r\n第一行两个空格隔开的正整数 $n,m$\r\n接下来 $n$ 行每行 $m$ 个用空格隔开的整数。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出为一个整数，为所输入矩阵取数后的最大得分"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n2 3\r\n1 2 3\r\n3 4 2\r\n```\r\n#### 样例输出 1\r\n```plain\r\n82\r\n```\r\n#### 样例解释 1\r\n第一次：第一行取行首元素，第二行取行尾元素，本次得分为 $1\\times 2^1+2\\times 2^1=6$；  \r\n第二次：两行均取行首元素，本次得分为 $2\\times 2^2+3\\times 2^2=20$；  \r\n第三次：本次得分为 $3\\times 2^3+4\\times 2^3=56$，总得分为 $6+20+56=82$。\r\n#### 样例输入 2\r\n```plain\r\n1 4\r\n4 5 0 5\r\n```\r\n#### 样例输出 2\r\n```plain\r\n122\r\n```\r\n#### 样例输入 3\r\n```plain\r\n2 10\r\n96 56 54 46 86 12 23 88 80 43\r\n16 95 18 29 30 53 88 83 64 67\r\n```\r\n#### 样例输出 3\r\n```plain\r\n316994\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $60\\%$ 的数据，$1\\le n,m\\le 30$，答案不超过 $10^{16}$；  \r\n对于 $100\\%$ 的数据，$1\\le n,m\\le 80,0\\le a_{i,j}\\le 1000$。"}]}
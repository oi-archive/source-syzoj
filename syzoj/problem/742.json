{"title":"[CSP-J 2019]公交换乘","time_limit":1000,"memory_limit":256,"tags":[],"operation":{"submit":"https://syzoj.com/problem/742#submit_code","submissions":"https://syzoj.com/submissions?problem_id=742","statistics":"https://syzoj.com/problem/742/statistics/fastest","testdata":"https://syzoj.com/problem/742/testdata","discussion":"https://syzoj.com/discussion/problem/742"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"著名旅游城市 B 市为了鼓励大家采用公共交通方式出行，推出了一种地铁换乘公交车的优惠方案：\r\n\r\n$1. $ 在搭乘一次地铁后可以获得一张优惠票，有效期为 $45$ 分钟，在有效期内可以消耗这张优惠票，免费搭乘一次票价不超过地铁票价的公交车。在有效期内指\r\n开始乘公交车的时间与开始乘地铁的时间之差小于等于 $45$ 分钟，即：$tbus-tsubway \\le 45$ \r\n\r\n2.搭乘地铁获得的优惠票可以累积，即可以连续搭乘若干次地铁后再连续使用优惠票搭乘公交车。 \r\n\r\n3.搭乘公交车时，如果可以使用优惠票一定会使用优惠票；如果有多张优惠票满足条件，则优先消耗获得最早的优惠票。 现在你得到了小轩最近的公共交通出行记录，你能帮他算算他的花费吗?\r\n\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入文件的第一行包含一个正整数 $n$，代表乘车记录的数量。\r\n\r\n接下来的 $n$ 行，每行包含 $3$ 个整数，相邻两数之间以一个空格分隔。第 $i$ 行的第 $1$ 个整数代表第 $i$ 条记录乘坐的交通工具，$0$ 代表地铁，$1$ 代表公交车；第 $2$ 个整数代表第 $i$ 条记录乘车的票价 $price_i$ ；第三个整数代表第 $i$ 条记录开始乘车的时间 $t_i$ （距 $0$ 时刻的分钟数）。\r\n\r\n我们保证出行记录是按照开始乘车的时间顺序给出的，且不会有两次乘车记录出现在同一分钟。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出文件有一行，包含一个正整数，代表小轩出行的总花费"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 输入样例1\r\n```\r\n6\r\n0 10 3\r\n1 5 46\r\n0 12 50\r\n1 3 96\r\n0 5 110\r\n1 6 135\r\n```\r\n\r\n#### 样例输出1\r\n```\r\n36\r\n```\r\n\r\n#### 样例输入2\r\n```\r\n6\r\n0 5 1\r\n0 20 16\r\n0 7 23\r\n1 18 31\r\n1 4 38\r\n1 7 68\r\n```\r\n#### 样例输出2\r\n```\r\n32\r\n```\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $30\\%$ 的数据，$n$ $\\le$ $1000$，$t_i$ $\\le$ $106$。\r\n\r\n另有 $15\\%$ 的数据，$t_i$ $\\le$ $10^7$，$price_i$都相等。\r\n\r\n另有 $15\\%$ 的数据，$t_i$ $\\le$ $10^9$，$price_i$都相等。\r\n\r\n对于 $100\\%$ 的数据，$n$ $\\le$ $10^5$，$t_i$ $\\le$ $10^9$，$1$ $\\le$ $price_i$ $\\le$ $1000$。\r\n\r\n#### 样例1说明\r\n第一条记录，在第 3 分钟花费 10 元乘坐地铁。\r\n\r\n第二条记录，在第 46 分钟乘坐公交车，可以使用第一条记录中乘坐地铁获得的优惠票，因此没有花费。\r\n\r\n第三条记录，在第 50 分种花费 12 元乘坐地铁。\r\n\r\n第四条记录，在第 96 分钟乘坐公交车，由于距离第三条记录中乘坐地铁已超过 45分钟，所以优惠票已失效，花费 3 元乘坐公交车。\r\n\r\n第五条记录，在第 110 分钟花费 5 元乘坐地铁。\r\n\r\n第六条记录，在第 135 分钟乘坐公交车，由于此时手中只有第五条记录中乘坐地铁获得的优惠票有效，而本次公交车的票价为 6 元，高于第五条记录中地铁的票价 5 元，所以不能使用优惠票，花费 6 元乘坐公交车。\r\n\r\n总共花费 36 元。\r\n\r\n#### 样例2说明\r\n第一条记录，在第 1 分钟花费 5 元乘坐地铁。\r\n\r\n第二条记录，在第 16 分钟花费 20 元乘坐地铁。\r\n\r\n第三条记录，在第 23 分钟花费 7 元乘坐地铁。\r\n\r\n第四条记录，在第 31 分钟乘坐公交车，此时只有第二条记录中乘坐的地铁票价高于本次公交车票价，所以使用第二条记录中乘坐地铁获得的优惠票。\r\n\r\n第五条记录，在第 38 分钟乘坐公交车，此时第一条和第三条记录中乘坐地铁获得的优惠票都可以使用，使用获得最早的优惠票，即第一条记录中乘坐地铁获得的优惠票。\r\n\r\n第六条记录，在第 68 分钟乘坐公交车，使用第三条记录中乘坐地铁获得的优惠票。\r\n\r\n总共花费 32 元。\r\n\r\n"}]}
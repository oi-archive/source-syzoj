{"title":"[NOIP2006] 金明的预算方案","time_limit":2000,"memory_limit":256,"tags":[],"operation":{"submit":"https://syzoj.com/problem/1011#submit_code","submissions":"https://syzoj.com/submissions?problem_id=1011","statistics":"https://syzoj.com/problem/1011/statistics/fastest","testdata":"https://syzoj.com/problem/1011/testdata","discussion":"https://syzoj.com/discussion/problem/1011"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":" 金明今天很开心，家里购置的新房就要领钥匙了，新房里有一间金明自己专用的很 宽敞的房间。更让他高兴的是，妈妈昨天对他说：“你的房间需要购买哪些物品，怎么布置，你说了算，只要不超过 $N$ 元钱就行”。今天一早 ， 金明就开始做预算了，他把想买的物品分为两类：主件与附件，附件是从属于某个主件的，下表就是一些主件与附件的例子：\r\n\r\n![](http://p1.bpimg.com/538184/7a4ef46508ab1e17.png)\r\n\r\n如果要买归类为附件的物品，必须先买该附件所属的主件。每个主件可以有 $0$ 个、 $1$ 个或 $2$ 个附件。附件不再有从属于自己的附件。金明想买的东西很多，肯定会超过妈妈限定的 $N$ 元。于是，他把每件物品规定了一个重要度，分为 $5$ 等：用整数 $1$ ~ $5$ 表示，第 $5$ 等最重要。他还从因特网上查到了每件物品的价格（都是 $10$ 元的整数倍）。他希望在不超过 $N$ 元（可以等于 $N$ 元）的前提下，使每件物品的价格与重要度的乘积的总和最大。\r\n\r\n\r\n设第 $j$ 件物品的价格为 $v[j]$ ，重要度为 $w[j]$ ，共选中了 $k$ 件物品，编号依次为 $j_1$ ，$ j_2$ ，……， $j_k$ ，则所求的总和为：\r\n$v[j_1 ]*w[j_1 ]+v[j_2 ]*w[j_2 ]+ … +v[j_k ]*w[j_k ]$ 。（其中 \\* 为乘号）\r\n    请你帮助金明设计一个满足要求的购物单。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":" 输入文件的第 $1$ 行，为两个正整数，用一个空格隔开：$N$ $m$\r\n（其中 $N$ （ $N < 32000$ ）表示总钱数， $m$ （ $m<60$ ）为希望购买物品的个数。）\r\n\r\n从第 $2$ 行到第 $m+1$ 行，第 $j$ 行给出了编号为 $j-1$ 的物品的基本数据，每行有 $3$ 个非负整数 $v$ $p$ $q$\r\n（其中 $v$ 表示该物品的价格（ $v<10000$ ）， $p$ 表示该物品的重要度（ $1$ ~ $5$ ）， $q$ 表示该物品是主件还是附件。如果 $q=0$ ，表示该物品为主件，如果 $q>0$ ，表示该物品为附件， $q$ 是所属主件的编号）"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出文件只有一个正整数，为不超过总钱数的物品的价格与重要度乘积的总和的最大值（ $<200000$ ）。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#input\r\n```\r\n1000 5\r\n800 2 0\r\n400 5 1\r\n300 5 1\r\n400 3 0\r\n500 2 0\r\n```\r\n\r\n#output\r\n```\r\n2200\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"见题面"}]}
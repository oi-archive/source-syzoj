{"title":"灯的排列问题【NOIP1995普及+提高】","time_limit":1000,"memory_limit":512,"tags":["noip普及","noip提高","1995"],"operation":{"submit":"https://syzoj.com/problem/492#submit_code","submissions":"https://syzoj.com/submissions?problem_id=492","statistics":"https://syzoj.com/problem/492/statistics/fastest","testdata":"https://syzoj.com/problem/492/testdata","discussion":"https://syzoj.com/discussion/problem/492"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"在一排上有N个格子（$N\\le20$），要在格子中放置不同颜色的灯，每种灯的个数记为$Num_1，Num_2，……Num_k$（k表示不同颜色灯的个数)\r\n\r\n放灯时要遵守下列规则:\r\n\r\n①同一种颜色的灯不能分开 \r\n\r\n②不同颜色的灯之间至少要有一个空位置\r\n\r\n现给出格子数$N$灯的种类数$M$，和每种灯的颜色$C_i$和个数记为$Num_i$，要求输出放置种数以及每种放置方式\r\n\r\n例如：$N=8$（格子数）\r\n$M=2$（灯种类数）\r\n$R=2$（红灯数）\r\n$B=3$（蓝灯数）\r\n\r\n放置的方法有：\r\n\r\n$\\begin{equation}\r\n\\begin{split}\r\n\\underline{\\qquad\\qquad\\qquad\\qquad\\ \\ }\\\\\r\n\\underline{|R|R|\\ \\ \\ |B|B|B|\\ \\ \\ |\\ \\ \\ |}\\\\\r\n\\underline{|R|R|\\ \\ \\ |\\ \\ \\ |B|B|B|\\ \\ \\ |}\\\\\r\n\\underline{|R|R|\\ \\ \\ |\\ \\ \\ |\\ \\ \\ |B|B|B|}\\\\\r\n\\underline{|\\ \\ \\ |R|R|\\ \\ \\ |B|B|B|\\ \\ \\ |}\\\\\r\n\\underline{|\\ \\ \\ |R|R|\\ \\ \\ |\\ \\ \\ |B|B|B|}\\\\\r\n\\underline{|\\ \\ \\ |\\ \\ \\ |R|R|\\ \\ \\ |B|B|B|}\\\\\r\n\\underline{|B|B|B|\\ \\ \\ |R|R|\\ \\ \\ |\\ \\ \\ |}\\\\\r\n\\underline{|B|B|B|\\ \\ \\ |\\ \\ \\ |R|R|\\ \\ \\ |}\\\\\r\n\\underline{|B|B|B|\\ \\ \\ |\\ \\ \\ |\\ \\ \\ |R|R|}\\\\\r\n\\underline{|\\ \\ \\ |B|B|B|\\ \\ \\ |R|R|\\ \\ \\ |}\\\\\r\n\\underline{|\\ \\ \\ |B|B|B|\\ \\ \\ |\\ \\ \\ |R|R|}\\\\\r\n\\underline{|\\ \\ \\ |\\ \\ \\ |B|B|B|\\ \\ \\ |R|R|}\r\n\\end{split}\r\n\\end{equation}$\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个正整数$N,M$，意义如题面所示\r\n\r\n接下来$N$行，每行一个字符$C_i$和一个整数$Num_i$，表示第$i$种灯的颜色和个数"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"第一行一个整数$ans$表示放置种数\r\n\r\n接下来$ans$行表示放置方案，方案按字典序进行排序(空格用‘*’代替)"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"### 样例输入\r\n```\r\n8 2\r\nR 2\r\nB 3\r\n```\r\n### 样例输出\r\n```\r\n12\r\nBBB*RR**\r\nBBB**RR*\r\nBBB***RR\r\nRR*BBB**\r\nRR**BBB*\r\nRR***BBB\r\n*BBB*RR*\r\n*BBB**RR\r\n*RR*BBB*\r\n*RR**BBB\r\n**BBB*RR\r\n**RR*BBB\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于$100\\%$的数据，保证$N\\le 20$，$M\\le 10$，$C_i$为不重复的单个大写字母\r\n\r\n保证输出文件小于$10M$"}]}
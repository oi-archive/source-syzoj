{"title":"小L的圣诞树","time_limit":1000,"memory_limit":128,"tags":[],"operation":{"submit":"https://syzoj.com/problem/269#submit_code","submissions":"https://syzoj.com/submissions?problem_id=269","statistics":"https://syzoj.com/problem/269/statistics/fastest","testdata":"https://syzoj.com/problem/269/testdata","discussion":"https://syzoj.com/discussion/problem/269"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"　　圣诞节快到了，小T送给了小L一棵挂满了N个彩灯的圣诞树，小L想知道这颗圣诞树上两个彩灯之间有多少种不同的颜色，但是小L正忙着准备给大家的圣诞礼物，于是他想请你帮忙解决这个问题。  \r\n　　由于小L有间歇性色盲症，他有时候会分不清两种颜色，在统计的时候他会告诉你他当时会分不清哪两种颜色。\r\n　　"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数N, Q, R，分别表示彩灯数量，小L的询问数和树根所在的位置  \r\n接下来一行N个整数，描述1 \\~ N好编号的彩灯的颜色，颜色的范围为1 \\~ 10000  \r\n接下来N - 1行每行两个整数U, V，表示彩灯U和彩灯V之间有连接  \r\n接下来Q行每行四个整数U, V, A, B，表示小L想知道他在把A和B当做同一种颜色的情况下，在树上U到V之间的所有彩灯有多少种颜色  \r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出Q行，每行1个整数，表示颜色数量"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"####输入样例\r\n```\r\n3 2 1\r\n2 2 5 \r\n2 1\r\n3 1\r\n2 1 3 1\r\n2 3 2 5\r\n```\r\n####输出样例\r\n```\r\n1\r\n1\r\n```\r\n####样例解释\r\n1 \\~ 2经过了颜色为2的1号点和颜色为2的2号点，总共1种颜色，答案为1  \r\n2 \\~ 3经过了颜色为2的2号点和颜色为2的1号点以及颜色为5的三号点，总共两种颜色为2和5，但是小L此时会把2和5当做一种颜色，所以答案仍为1"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于20%的数据 n <= 10, m <= 10  \r\n对于50%的数据 n <= 2000, m <= 2000  \r\n对于100%的数据 1 <= n <= 50000, 1 <= m <= 100000, 1 <= 颜色的标号 <= 10000  "}]}
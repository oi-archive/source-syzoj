{"title":"[动态规划] 玩雪的小Y","time_limit":1000,"memory_limit":512,"tags":[],"operation":{"submit":"https://syzoj.com/problem/466#submit_code","submissions":"https://syzoj.com/submissions?problem_id=466","statistics":"https://syzoj.com/problem/466/statistics/fastest","testdata":"https://syzoj.com/problem/466/testdata","discussion":"https://syzoj.com/discussion/problem/466"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"终于下雪了，爱玩雪的小Y非常开心。\r\n\r\n小Y喜欢将他喜爱的雪花摆成一个环，然后他会两两将雪花用魔力合并成为一个大雪花。\r\n\r\n雪花自身具有两个数值，光魔法值和暗魔法值，一个雪花的光魔法值是它上一个雪花的暗魔法值，而雪花的光魔法值会告诉你。比如3 4 5这三个雪花，它们的数值就是\r\n\r\n(3,4),(4,5),(5,3)。将两个雪花合并时会释放 **先前一个雪花光魔法值 X 先前一个雪花暗魔法值 X 后面一个雪花的暗魔法值** 的魔力，同时合并后的雪花因为魔力的作用\r\n\r\n光魔法值将变为原来前一个雪花的光魔法值，暗魔法值将变为后一个雪花的暗魔法值。比如将(3,4),(4,5)这两个雪花合并，释放的魔力为3*4*5，合成的雪花的光魔法值为\r\n\r\n3，暗魔法值为5。\r\n\r\n大魔法师小Y的数学并不好，所以他希望你能帮他计算怎么合并释放的魔法值最高。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个正整数 $n$\r\n\r\n第二行 $n$ 个不超过 $1000$ 的正整数，第 $i(1\\le i \\le n)$ 个数为第 $i$ 个雪花的光魔法值。\r\n\r\n至于雪花的顺序，你可以这样理解：将雪花放在桌面上，不要出现交叉，随机指定一颗珠子为第一颗珠子，按顺时针确定其它珠子的顺序。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出只有一行，一个不超过 $2.1\\times 10^9$ 的正整数，表示最优合并所释放的魔法值。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n4\r\n2 3 5 10\r\n```\r\n#### 样例输出\r\n```plain\r\n710\r\n```\r\n\r\n#### 样例解释\r\n$(((4 X 1)X 2)X 3)=$ $10\\times 2\\times 3+10\\times 3\\times 5+10\\times 5\\times 10=710$\r\n\r\nX代表合并\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据，$4\\le n \\le 100$。"}]}
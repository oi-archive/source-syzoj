{"title":"教主的魔法","time_limit":1000,"memory_limit":512,"tags":[],"operation":{"submit":"https://syzoj.com/problem/579#submit_code","submissions":"https://syzoj.com/submissions?problem_id=579","statistics":"https://syzoj.com/problem/579/statistics/fastest","testdata":"https://syzoj.com/problem/579/testdata","discussion":"https://syzoj.com/discussion/problem/579"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"教主最近学会了一种神奇的魔法，能够使人长高。于是他准备演示给SYZ信息JS每个英雄看。于是N个英雄们又一次聚集在了一起，这次他们排成了一列，被编号为1、2、……、N。\r\n\r\n每个人的身高一开始都是不超过1000的正整数。教主的魔法每次可以把闭区间[L, R]（1≤L≤R≤N）内的英雄的身高全部加上一个整数W。（虽然L=R时并不符合区间的书写规范，但我们可以认为是单独增加第L（R）个英雄的身高）\r\n\r\nZSZ、PBF和ZH等人不信教主的邪，于是他们有时候会问KOALA闭区间 [L, R] 内有多少英雄身高大于等于C，以验证教主的魔法是否真的有效。\r\n\r\nKOALA巨懒，于是他把这个回答的任务交给了你。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第1行为两个整数N、Q。Q为问题数与教主的施法数总和。\r\n\r\n第2行有N个正整数，第i个数代表第i个英雄的身高。\r\n\r\n第3到第Q+2行每行有一个操作：\r\n\r\n（1） 若第一个字母为“M”，则紧接着有三个数字L、R、W。表示对闭区间 [L, R] 内所有英雄的身高加上W。\r\n\r\n（2） 若第一个字母为“A”，则紧接着有三个数字L、R、C。询问闭区间 [L, R] 内有多少英雄的身高大于等于C。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对每个“A”询问输出一行，仅含一个整数，表示闭区间 [L, R] 内身高大于等于C的英雄数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"in\r\n```cpp\r\n5 3\r\n\r\n1 2 3 4 5\r\n\r\nA 1 5 4\r\n\r\nM 3 5 1\r\n\r\nA 1 5 4\r\n```\r\n\r\nout\r\n```cpp\r\n2\r\n3\r\n\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"【输入输出样例说明】\r\n\r\n原先5个英雄身高为1、2、3、4、5，此时[1, 5]间有2个英雄的身高大于等于4。教主施法后变为1、2、4、5、6，此时[1, 5]间有3个英雄的身高大于等于4。\r\n\r\n【数据范围】\r\n\r\n对30%的数据，N≤1000，Q≤1000。\r\n\r\n对100%的数据，N≤1000000，Q≤3000，1≤W≤1000，1≤C≤1,000,000,000。"}]}
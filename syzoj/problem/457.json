{"title":"[NOIP2018模拟赛] 小P的国际象棋","time_limit":1000,"memory_limit":1024,"tags":[],"operation":{"submit":"https://syzoj.com/problem/457#submit_code","submissions":"https://syzoj.com/submissions?problem_id=457","statistics":"https://syzoj.com/problem/457/statistics/fastest","testdata":"https://syzoj.com/problem/457/testdata","discussion":"https://syzoj.com/discussion/problem/457"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"小P迷上了一种新国际象棋，这种国际象棋的棋盘是两个序列，一个序列是自己的部分，另一个序列是对手的。在序列中，每一格都是一个士兵，士兵们的初始战斗力不同。\r\n在新国际象棋种获胜方式是这样的:有q次对决，每次对决双方序列的两个区间，如果小P在这个区间内的士气和大于对手在这个区间内的士气和，那么小P需要说出他在这个区间内的士气和。如果他的士气和大于对手的士气和，那么他能得一分。在q次对决之后，双方得分较多的为获胜方。\r\n\r\n在新国际象棋种有3种可以影响战局的操作:\r\n\r\n```plain\r\n魔术师:通过膜法将自己棋盘部分的第i个士兵与第j个士兵交换。\r\n音乐家:通过高昂的歌声使自己棋盘部分的l到r的区间内士兵士气值加dis。\r\n盗贼:盗取对手第i个士兵的士气值，并把它的士气值加到己方第i个士兵上。\r\n```\r\n\r\n小P带着自己的好友小Y来玩新国际象棋。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数，n，m代表棋盘是2*n的，影响战局的操作数与对决数之和为m个\r\n\r\n接下来两行，每行n个整数，分别代表自己和对手的初始士气值。\r\n\r\n接下来m行，每行是下面有以下几种情况:\r\n```plain\r\nmig N x y:小\"N\"将自己棋盘部分的第x个士兵与第y个士兵交换,例如mig Y 2 5\r\nmus N x y z:小\"N\"将自己棋盘部分的x到y的区间内士兵士气值加z,例如mus Y  1 3 2\r\nsto N x y:小\"N\"盗取对手第x个士兵的士气值，并把它的士气值加到己方第y个士兵上,例如sto P 1 5\r\npk x y:对决双方区间[x,y]\r\n```"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":" 对于每次对决都出一次。\r\n```plain\r\n每输出一次包含两部分:\r\n第一部分表示获胜的是小P还是小Y，若是小P则输出P，若是小Y则输出Y。\r\n第二部分输出获胜方的区间和。\r\n两个部分输出以一个空格隔开，例如Y 7\r\n```\r\n最后再输出最终获胜方，输出获胜者\"is winner!\"，例如\"little Y is winner!\"\r\n\r\n如果双方平局，则输出\"five five open\"。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"**input1**\r\n```\r\n5 5\r\n1 3 2 5 1\r\n1 3 2 5 1\r\nmig P 3 2\r\nmus Y 1 4 2\r\npk 1 3\r\nsto P 1 5\r\npk 2 5\r\n```\r\n\r\n**output1**\r\n```\r\nY 12\r\nY 17\r\nlittle Y is winner!\r\n\r\n```\r\n\r\n**input2**\r\n```\r\n5 10\r\n33702 7831 40840 14560 27164 \r\n13691 20836 5480 2948 11791 \r\nsto P 5 1\r\npk 2 5\r\npk 1 5\r\nmig P 5 3\r\nsto P 4 1\r\nmig Y 2 5\r\nmus P 2 3 148\r\nsto P 4 3\r\npk 1 5\r\npk 1 1\r\n```\r\n\r\n**output2**\r\n```\r\nP 90395\r\nP 135888\r\nP 139132\r\nP 48441\r\nlittle P is winner!\r\n```\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于百分之三十的数据: 1<=n,m<=1000。\r\n\r\n对于另外百分之二十的数据: 没有sto和mig操作。\r\n\r\n对于全部数据:1<=n,m<=200005。"}]}
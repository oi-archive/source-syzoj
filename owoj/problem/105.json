{"title":"广义 SAM","time_limit":3000,"memory_limit":1024,"tags":["模板","字符串","SAM"],"operation":{"submit":"https://oj.akioi.ml:8200/problem/105#submit_code","submissions":"https://oj.akioi.ml:8200/submissions?problem_id=105","statistics":"https://oj.akioi.ml:8200/problem/105/statistics/fastest","testdata":"https://oj.akioi.ml:8200/problem/105/testdata","discussion":"https://oj.akioi.ml:8200/discussion/problem/105"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"给一棵 Trie，求它上面所有字符串中，不同的子串数量。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $n$，代表节点个数。\r\n\r\n接下来 $n-1$ 行每行两个整数 $x,y$ 和一个字符 $z$，代表 Trie 中的一条边 $x\\xrightarrow{z}y$，其中 $x$ 是 $y$ 的父亲。\r\n\r\n保证根为 $1$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一行一个整数，代表不同的子串个数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n\r\n```plain\r\n10\r\n1 5 b\r\n5 7 b\r\n7 6 a\r\n6 3 a\r\n6 2 b\r\n2 4 b\r\n2 9 a\r\n9 8 b\r\n8 10 b\r\n```\r\n\r\n#### 样例输出\r\n\r\n```plain\r\n23\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据，$1\\le n\\le2\\cdot10^6,1\\le x,y\\le n,z\\in\\{{\\tt a},{\\tt b},{\\tt c},\\ldots,{\\tt z}\\}$。"}]}
{"title":"「CEOI 1999」Parity game","time_limit":1000,"memory_limit":256,"tags":["CEOI","1999","并查集"],"operation":{"submit":"https://oj.akioi.ml:8200/problem/6001#submit_code","submissions":"https://oj.akioi.ml:8200/submissions?problem_id=6001","statistics":"https://oj.akioi.ml:8200/problem/6001/statistics/fastest","testdata":"https://oj.akioi.ml:8200/problem/6001/testdata","discussion":"https://oj.akioi.ml:8200/discussion/problem/6001"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [CEOI 1999](https://www.fi.muni.cz/ceoi1999/) Round 1 T2. [*Parity game*](https://www.fi.muni.cz/ceoi1999/parity/parity.pdf)**\r\n\r\n仅提供简化题面。\r\n\r\n---\r\n\r\nTL;DR：有一个长度为 $n$ 的 01 串，有 $m$ 条信息，每条信息表示 $[l,r]$ 之间有奇数 / 偶数个 $1$。输出一个数 $x$，使得存在一个字符串，满足前 $x$ 条信息，却不满足前 $x+1$ 条信息。如果存在一个字符串满足所有的信息，那么输出 $m$。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $n$，表示 01 串的长度。\r\n\r\n第二行一个整数 $m$，表示消息条数。\r\n\r\n接下来 $m$ 行，每行两个整数 $l,r$ 和一个字符串，表示 $[l,r]$ 之间 $1$ 的数量的奇偶性。如果字符串是 `even` 则为偶数，如果是 `odd` 则为奇数。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一行一个整数 $x$。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n\r\n```plain\r\n10\r\n5\r\n1 2 even\r\n3 4 odd\r\n5 6 even\r\n1 6 even\r\n7 10 odd\r\n```\r\n\r\n#### 样例输出 1\r\n\r\n```plain\r\n3\r\n```\r\n\r\n#### 样例输入 2\r\n\r\n```plain\r\n10\r\n5\r\n1 2 even\r\n1 4 even\r\n2 4 odd\r\n1 10 even\r\n3 10 even\r\n```\r\n\r\n#### 样例输出 2\r\n\r\n```plain\r\n5\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据，满足 $n\\le10^9,m\\le5000$。"}]}
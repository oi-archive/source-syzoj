{"title":"「T Round 1」std::tr1::seq","time_limit":1000,"memory_limit":256,"tags":["T Round 1","数据结构","线段树","子任务"],"operation":{"submit":"https://oj.akioi.ml:8200/problem/504#submit_code","submissions":"https://oj.akioi.ml:8200/submissions?problem_id=504","statistics":"https://oj.akioi.ml:8200/problem/504/statistics/fastest","testdata":"https://oj.akioi.ml:8200/problem/504/testdata","discussion":"https://oj.akioi.ml:8200/discussion/problem/504"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"您正在欣赏 galgame 的 HS，然后游戏崩溃了，于是您只能做数据结构题了：\r\n\r\n维护一个长为 $n$ 的序列 $a$，有 $m$ 次操作。\r\n\r\n1.将区间 $[l,r]$ 的值对 $[1, 2, 3, ..., r-l+1]$ 取 $\\min$。即 $\\forall i\\in[l,r],a_i\\leftarrow\\min\\{a_i,i-l+1\\}$。\r\n\r\n2.询问区间 $[l,r]$ 加上 $[1, 2, 3, ..., r-l+1]$ 后的最小值。即 $\\min_{i=l}^r \\{a_i + i - l + 1\\}$。\r\n\r\n操作 2 不修改原数列。若题意不清晰请查看样例解释。\r\n\r\n---\r\n\r\n**题目保证输入数据在 25MiB 之内，因为时限较紧，可能需要一定的常数优化。**\r\n\r\n这里提供 T1 std 所使用的读入优化模板：\r\n\r\n```cpp\r\ntypedef unsigned u;char B[1<<21],*S=B,*T=B;inline char getcharx(){return S==T&&(T=(S=B)+fread(B,1,1<<15,stdin),S==T)?0:*S++;}\r\ntemplate<class T>inline void get(T&val){static char ch;val=0;while(!isdigit(ch=getcharx()));do val=val*10+ch-48;while(isdigit(ch=getcharx()));}\r\n```"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数表示 $n,m$。\r\n\r\n第二行 $n$ 个整数表示 $a_i$​。\r\n\r\n之后 $m$ 行，每行 $3$ 个数 $op,l,r$​​ 表示操作编号和区间。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每个 2 号询问，输出一行一个数表示答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n\r\n```plain\r\n5 5\r\n6 3 4 5 2\r\n2 1 5\r\n1 3 5\r\n2 3 5\r\n2 1 5\r\n2 2 5\r\n```\r\n\r\n#### 样例输出\r\n\r\n```plain\r\n5\r\n2\r\n4\r\n3\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"### 样例解释\r\n\r\n样例所示的操作顺序如下表所示：\r\n\r\n## 样例解释\r\n\r\n| 编号 |              `6 3 4 5 2`              | 输出 |\r\n| :--: | :-----------------------------------: | :--: |\r\n|  #1  | $\\min\\{6+1, 3+2, 4+3, 5+4, 2+5\\} = 5$ | $5$  |\r\n|  #2  |              `6 3 1 2 2`              | N/A  |\r\n|  #3  |      $\\min\\{1+1, 2+2, 2+3\\} = 2$      | $2$  |\r\n|  #4  | $\\min\\{6+1, 3+2, 1+3, 2+4, 2+5\\} = 4$ | $4$  |\r\n|  #5  |   $\\min\\{3+1, 1+2, 2+3, 2+4\\} = 3$    | $3$  |\r\n\r\n### 子任务\r\n\r\nSubtask 1（$5$ 分）：$n, m \\le 10^3$。\r\n\r\nSubtask 2（$10$ 分）：$a_i - a_{i-1} = 1$。\r\n\r\nSubtask 3（$10$ 分）：所有的 $a_i$ 都相等。\r\n\r\nSubtask 4（$15$ 分）：$a_i \\le 10$。\r\n\r\nSubtask 5（$20$ 分）：$op = 2$。\r\n\r\nSubtask 6（$40$ 分）：无特殊性质。\r\n\r\n对于 $100\\%$ 的数据，$1\\le n,m\\le8\\cdot10^5,1\\le a_i\\le10^9$。每个 Subtask 的分数均等于其中每个测试点分数的最小值。\r\n\r\n<font color=white>出题不易，请尊重出题人劳动成果。拒绝校园暴力，共建和谐校园。</font>"}]}